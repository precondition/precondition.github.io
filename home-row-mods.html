<!DOCTYPE html>
<html lang=en>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>A guide to home row mods</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <!--<link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />-->
    <!--<link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />-->
    <!--<link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />-->
    <link rel="stylesheet" type="text/css" href="/assets/built/scrollbar.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/dark_screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/dark_reader.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/dark_syntax.css" />
    <!-- highlight.js -->
    <!--original:-->
    <link rel="stylesheet"
          href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="What are home row mods? What is a mod-tap? What settings do you need to use? What are the alternatives? And more in this article..." />
    <link rel="shortcut icon" href="/assets/images/favicon.png" type="image/png" />
    <link rel="canonical" href="/home-row-mods" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="precondition" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="A guide to home row mods" />
    <meta property="og:description" content="What are home row mods? What is a mod-tap? What settings do you need to use? What are the alternatives? And more in this article..." />
    <meta property="og:url" content="/home-row-mods" />
    <meta property="og:image" content="/assets/images/home-row-mods/RealisticHRM-Light-Cover-Half-GASC.jpeg" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2020-12-12T00:00:00+00:00" />
    <meta property="article:modified_time" content="2020-12-12T00:00:00+00:00" />
    <meta property="article:tag" content="Keymap" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="A guide to home row mods" />
    <meta name="twitter:description" content="What are home row mods? What is a mod-tap? What settings do you need to use? What are the alternatives? And more in this article..." />
    <meta name="twitter:url" content="/" />
    <meta name="twitter:image" content="/assets/images/home-row-mods/RealisticHRM-Light-Cover-Half-GASC.jpeg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="precondition" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Keymap" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "precondition",
        "logo": "/assets/images/blog-icon.png"
    },
    "url": "/home-row-mods",
    "image": {
        "@type": "ImageObject",
        "url": "/assets/images/home-row-mods/RealisticHRM-Light-Cover-Half-GASC.jpeg",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "/home-row-mods"
    },
    "description": "What are home row mods? What is a mod-tap? What settings do you need to use? What are the alternatives? And more in this article..."
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="A guide to home row mods" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="/"><img src="/assets/images/blog-icon.png" alt="precondition" /></a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-my-keymap" role="menuitem"><a href="https://github.com/precondition/dactyl-manuform-keymap">My Keymap</a></li>
</ul>

        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
            
                <a class="social-link social-link-tw" href="https://github.com/precondition" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
</a>
            
            <a class="social-link social-link-rss" href="/feed.xml" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"/><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg>
</a>
        </div>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->
<main id="site-main" class="site-main outer" role="main" 
    lang="en">
    <div class="inner">

        <article class="post-full  tag-keymap tag-qmk post ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="12 December 2020">12 December 2020</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/keymap/'>KEYMAP</a>,
                            
                        
                            
                               <a href='/tag/qmk/'>QMK</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">A guide to home row mods</h1>
            </header>

            
            <figure class="post-full-image" style="background-image: url(/assets/images/home-row-mods/RealisticHRM-Light-Cover-Half-GASC.jpeg)">
            </figure>
            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <p>If you’ve been browsing mechanical keyboard communities, and especially the niche that is ergonomic mechanical keyboards, you may have come across the term “home row mods” and wondered what could that mean. Well, wonder no more for I shall explain!</p>

<div style="position: relative;">
  <p><a href="#toc-skipped" class="screen-reader-only">Skip table of contents</a></p>
</div>

<ul id="markdown-toc">
  <li><a href="#what-are-home-row-mods" id="markdown-toc-what-are-home-row-mods">What are home row mods?</a></li>
  <li><a href="#why-use-home-row-mods" id="markdown-toc-why-use-home-row-mods">Why use home row mods?</a></li>
  <li><a href="#how-to-use-home-row-mods" id="markdown-toc-how-to-use-home-row-mods">How to use home row mods?</a>    <ul>
      <li><a href="#home-row-mods-order" id="markdown-toc-home-row-mods-order">Home row mods order</a>        <ul>
          <li><a href="#scga" id="markdown-toc-scga">SCGA/⇧⎈◆⎇</a></li>
          <li><a href="#gasc" id="markdown-toc-gasc">GASC/◆⎇⇧⎈</a></li>
          <li><a href="#gacs" id="markdown-toc-gacs">GACS/◆⎇⎈⇧</a></li>
          <li><a href="#cags" id="markdown-toc-cags">CAGS/⎈⎇◆⇧</a></li>
        </ul>
      </li>
      <li><a href="#implementation" id="markdown-toc-implementation">Implementation</a></li>
      <li><a href="#using-home-row-mods-with-qmk" id="markdown-toc-using-home-row-mods-with-qmk">Using home row mods with QMK</a>        <ul>
          <li><a href="#tap-hold-configuration-settings" id="markdown-toc-tap-hold-configuration-settings">Tap Hold configuration settings</a>            <ul>
              <li><a href="#default" id="markdown-toc-default">Default</a></li>
              <li><a href="#tapping-term" id="markdown-toc-tapping-term">Tapping Term</a></li>
              <li><a href="#quick-tap-term" id="markdown-toc-quick-tap-term">Quick Tap Term</a></li>
              <li><a href="#permissive-hold" id="markdown-toc-permissive-hold">Permissive Hold</a></li>
              <li><a href="#hold-on-other-key-press" id="markdown-toc-hold-on-other-key-press">Hold on Other Key Press</a></li>
              <li><a href="#retro-tapping" id="markdown-toc-retro-tapping">Retro Tapping</a></li>
              <li><a href="#retro-shift" id="markdown-toc-retro-shift">Retro Shift</a></li>
            </ul>
          </li>
          <li><a href="#getting-started-with-home-row-mods-on-qmk" id="markdown-toc-getting-started-with-home-row-mods-on-qmk">Getting started with home row mods on QMK</a></li>
          <li><a href="#qmk-home-row-mods-code-generator" id="markdown-toc-qmk-home-row-mods-code-generator">Home row mods code generator</a></li>
        </ul>
      </li>
      <li><a href="#using-home-row-mods-with-kmonad" id="markdown-toc-using-home-row-mods-with-kmonad">Using home row mods with KMonad</a>        <ul>
          <li><a href="#getting-started-with-home-row-mods-on-kmonad" id="markdown-toc-getting-started-with-home-row-mods-on-kmonad">Getting started with home row mods on KMonad</a>            <ul>
              <li><a href="#1-defcfg" id="markdown-toc-1-defcfg">1. defcfg</a></li>
              <li><a href="#2-defsrc" id="markdown-toc-2-defsrc">2. defsrc</a></li>
              <li><a href="#3-defalias" id="markdown-toc-3-defalias">3. defalias</a></li>
              <li><a href="#4-deflayer" id="markdown-toc-4-deflayer">4. deflayer</a></li>
              <li><a href="#final-result" id="markdown-toc-final-result">Final result</a></li>
            </ul>
          </li>
          <li><a href="#kmonad-home-row-mods-code-generator" id="markdown-toc-kmonad-home-row-mods-code-generator">Home row mods code generator</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#tips-and-tricks" id="markdown-toc-tips-and-tricks">Tips &amp; Tricks</a>    <ul>
      <li><a href="#quick-swift-taps" id="markdown-toc-quick-swift-taps">Quick swift taps</a></li>
      <li><a href="#finding-the-sweet-spot" id="markdown-toc-finding-the-sweet-spot">Finding the sweet spot</a>        <ul>
          <li><a href="#tapping-term-test-area" id="markdown-toc-tapping-term-test-area">Tapping term test area</a></li>
        </ul>
      </li>
      <li><a href="#use-left-and-right-modifiers-but-beware-of-altgr" id="markdown-toc-use-left-and-right-modifiers-but-beware-of-altgr">Use left and right modifiers but beware of AltGr!</a></li>
      <li><a href="#putting-home-row-mods-on-almost-all-layers" id="markdown-toc-putting-home-row-mods-on-almost-all-layers">Putting home row mods on (almost) all layers</a></li>
      <li><a href="#disabling-home-row-mods-when-gaming" id="markdown-toc-disabling-home-row-mods-when-gaming">Disabling home row mods when gaming</a></li>
      <li><a href="#shift-thumb-keys" id="markdown-toc-shift-thumb-keys">Shift thumb keys</a></li>
      <li><a href="#use-caps-lock" id="markdown-toc-use-caps-lock">Use Caps Lock</a></li>
      <li><a href="#mechanical-switch-type" id="markdown-toc-mechanical-switch-type">Mechanical switch type</a></li>
      <li><a href="#using-non-basic-keycodes-in-mod-taps" id="markdown-toc-using-non-basic-keycodes-in-mod-taps">Using non-basic keycodes in mod-taps</a></li>
      <li><a href="#combined-mod-taps-on-the-lower-row" id="markdown-toc-combined-mod-taps-on-the-lower-row">Combined mod-taps on the lower row</a></li>
      <li><a href="#rolled-modifiers-cancellation" id="markdown-toc-rolled-modifiers-cancellation">Rolled modifiers cancellation</a></li>
      <li><a href="#using-mod-taps-in-combos" id="markdown-toc-using-mod-taps-in-combos">Using mod-taps in combos<!-- [WIP] --></a></li>
    </ul>
  </li>
  <li><a href="#alternatives" id="markdown-toc-alternatives">Alternatives</a>    <ul>
      <li><a href="#alternative-home-row-mods-layout" id="markdown-toc-alternative-home-row-mods-layout">Alternative home row mods layout</a></li>
      <li><a href="#upperlower-row-mods" id="markdown-toc-upperlower-row-mods">Upper/Lower row mods</a></li>
      <li><a href="#home-row-mod-combos" id="markdown-toc-home-row-mod-combos">Home row mod-combos</a>        <ul>
          <li><a href="#sticky-combos" id="markdown-toc-sticky-combos">Sticky Combos</a></li>
          <li><a href="#combo-misfires" id="markdown-toc-combo-misfires">Combo misfires</a></li>
        </ul>
      </li>
      <li><a href="#chording-with-thumb-keys" id="markdown-toc-chording-with-thumb-keys">Chording with thumb keys</a>        <ul>
          <li><a href="#layers" id="markdown-toc-layers">Layers</a></li>
          <li><a href="#combos" id="markdown-toc-combos">Combos</a></li>
        </ul>
      </li>
      <li><a href="#tap-dances" id="markdown-toc-tap-dances">Tap dances</a></li>
    </ul>
  </li>
  <li><a href="#summary" id="markdown-toc-summary">Summary</a></li>
  <li><a href="#tldr-table" id="markdown-toc-tldr-table">TL;DR Table</a></li>
</ul>

<div id="toc-skipped"></div>
      <h1 id="what-are-home-row-mods">
        
        
          What are home row mods? <a href="#what-are-home-row-mods" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h1>
    

<p>Let’s first deconstruct the term. The “home row” refers to the middle row of alpha keys. On an English QWERTY keyboard this would be
<kbd>A</kbd><kbd>S</kbd><kbd>D</kbd><kbd>F</kbd><kbd>G</kbd><kbd>H</kbd><kbd>J</kbd><kbd>K</kbd><kbd>L</kbd><kbd>;</kbd>.
This row is called the “<em>home</em> row” because if one were to follow touch typing technique, this is the row of keys on which your fingers are supposed to rest on. The bars or the dish found on <kbd>F</kbd> and <kbd>J</kbd> help to find back the home position without looking at the keyboard — this is especially important for relatively big keyboards which require you to move your hands to hit some of the keys like for example <kbd>Backspace</kbd> or the arrow keys on a classic <abbr title="Ten Key Less">TKL</abbr> and thus throw you off home position.</p>

<figure>
    
    <img src="assets/images/home-row-mods/f-j-bumps-on-keyboard.jpg" alt="Zoom in on a keyboard with grey QWERTY keycaps with the F and J keys circled in red" />
    

    <figcaption><span>Homing bars</span></figcaption>

</figure>

<p>Next is “mods”. What is meant by “mods”? In this case, “mods” refer to modifiers, that is to say <kbd>⇧ Shift</kbd>, <kbd>⎈ Control</kbd>, <kbd>⎇ Alt</kbd>, and <kbd>◆ GUI</kbd>. The last modifier in the list is also known as WinKey on Windows, Command on MacOS or Super/Meta<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup> on Linux and BSD. Do not confuse the term with actual graphical user interfaces.</p>

<p>So this means that “home row mods” are about placing modifiers on the home row.</p>

<p>How can that be possible? Does this mean that the home row letters/symbols swap positions with the modifier keys? Most certainly not! You see, one of the untapped potential of modifiers that are active as long as you hold them is that they don’t do anything useful when they’re tapped (i.e. pressed and released) on their own — a notable exception is the Win/Super key which opens the start menu on Windows and Gnome as well as Alt which pops up the menu in graphical apps — but thanks to software like <a href="https://docs.qmk.fm/#/">QMK</a>, we can turn these momentary switch modifiers into dual-role keys which act as modifiers when held but act as other keys when tapped. This allows us to make more with less.</p>

<p>The name QMK gives to this functionality is “mod-tap”. Mod-taps are a subset of <a href="http://en.wikipedia.org/wiki/Modifier_key#Dual-role_keys">dual-role keys</a>. Other software which also implement this functionality call it differently. Therefore, we really should say “home row mod-taps” but in common parlance, “home row mods” is what’s always used.</p>

<p>We now know <em>what</em> home row mods are; it is the practice of turning the home row keys into mod-taps. We have yet to figure out <em>why</em> use home row mods.</p>
      <h1 id="why-use-home-row-mods">
        
        
          Why use home row mods? <a href="#why-use-home-row-mods" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h1>
    

<p>The reason why would anyone choose to use home row mods are quite simple. A keyboard is no longer used exclusively for text input. It is also used to navigate and operate a computer, launch programs, format text, execute macros, zoom in and out, change input language and so much more which goes beyond simply typing letters. Modifiers play a big role in those functions.</p>

<p>Obviously, typewriters did not have any of those functions. They could only type. The modifier keys that we use so much now were added afterwards, kind of as an afterthought, over the classic typewriter layout which plagues us to this day. It was decided to reduce the width of the spacebar in order to make space for the modifier keys that were needed for the computer age.</p>

<figure>
  <p><a href="https://genevatypewriters.blogspot.com/2010/11/variations-on-typewriter-keyboard.html">
        <img src="https://4.bp.blogspot.com/_8pq4w7Eq5-Q/TO2K1vc3MMI/AAAAAAAABiA/rr6e91NHUqc/s1600/IMG_0830.JPG" alt="A photo of an Italian QZERTY keyboard/typewriter on a Hermes Baby" title="An Italian QZERTY typewriter on a Hermes Baby" />
</a></p>
  <figcaption>
    <p>On some typewriters, the spacebar was ｒｉｄｉｃｕｌｏｕｓｌｙ ｗｉｄｅ.</p>
  </figcaption>
</figure>

<p>As a consequence, you need to do all sorts of finger gymnastics in order to trigger keyboard shortcuts. Not only are you playing Twister with your fingers, you’re straining the weakest finger the most in order to hold the necessary modifiers.</p>

<p>This approach to keyboard shortcuts presents some biomechanical issues. These chords may require hyper-extending, hyper-flexing, or splaying the fingers, and may necessitate uncomfortable static muscular loads on top of awkward hand position, especially wrist deviation. All of which can lead to cumulative trauma disorders, as explained by Vern Putz-Anderson in his book titled <em>“Cumulative trauma disorders: A manual for musculoskeletal diseases of the upper limbs”</em>, published in 1988.</p>

<p>It is in your best interest to find a solution at the risk of maybe getting RSI and Emacs pinky one day. This is especially important for programmers as most of their keyboard usage isn’t actually typing symbols but triggering commands with a plethora of different keyboard shortcuts. Though any power user of any application, not just programmers in their text editor, uses keyboard shortcuts extensively.</p>

<p>Home row mods are about the best solution to this modifier problem. The fact that there are four modifiers, each coming with a left and a right version perfectly matches the eight fingers resting on the home row. We can put a modifier under each finger and mirror it on both hands.</p>

<p>Isn’t it great to have ALL the modifiers at our finger tips? No motion, stretching or strain required. This rapid access to modifier chords is very comfortable and allows to blend the execution of keyboard shortcuts in the typing flow, whereas it previously required a context switch to stop composing text, move the hands to the corner(s) of the keyboard, trigger the desired keyboard shortcut and then find back the homing position to continue touch typing text.</p>

<p>The other benefit of having all the modifiers lined up in a row and each dedicated a specific finger is that you can trigger ANY keyboard shortcut with ease.
<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>GUI</kbd>+<kbd>Alt</kbd>, also sometimes called <a href="https://stevelosh.com/blog/2012/10/a-modern-space-cadet/#s14-hyper">Hyper</a>,
is an insanity on a standard keyboard but with home row mods, it is trivial: just hold down the four fingers of your hand on the keys you’re already resting on. Dedicating a specific finger for each of the four modifier also greatly reduces the amount of repetitive motions your pinky has to execute for all the keyboard shortcuts. Home row mods are also advantageous for the thumbs, for it frees them up for something else like layer switches or <a href="pressing-e-with-the-thumb">even letters</a>. In fact, home row mods and layer thumb keys are a perfect fit. It makes it very easy to chord layers and modifiers together without forcing finger contortions or same finger utilization.</p>

<p>Finally, home row mods (or <a href="#alternatives">variations of the concept</a> which we’ll talk about later in the article) is (a part of) the secret sauce to making all those tiny keyboards without outer pinky columns that you’ve always deemed to be too small to be usable,… actually usable.</p>

<!-- Add gallery of 30%'s -->

<p>Are you convinced? If so, let’s now look at the <em>how</em>.</p>
      <h1 id="how-to-use-home-row-mods">
        
        
          How to use home row mods? <a href="#how-to-use-home-row-mods" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h1>
    

<p>Before we can talk about the technical implementation details, let’s briefly talk about the order of home row mods.</p>
      <h2 id="home-row-mods-order">
        
        
          Home row mods order <a href="#home-row-mods-order" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h2>
    

<p>How should you lay out the modifiers on the home row? You have multiple options.</p>

<p>To make this easier to understand, let’s agree on common terminology first.</p>

<table>
  <thead>
    <tr>
      <th>Full Modifier Name</th>
      <th>Abbreviation</th>
      <th>Symbol</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Shift</td>
      <td>S</td>
      <td>⇧</td>
    </tr>
    <tr>
      <td>Control</td>
      <td>C</td>
      <td>⎈</td>
    </tr>
    <tr>
      <td>Alt/Option</td>
      <td>A</td>
      <td>⎇</td>
    </tr>
    <tr>
      <td>GUI/Win/Command</td>
      <td>G</td>
      <td>◆</td>
    </tr>
    <tr>
      <td>No modifier/mod-tap</td>
      <td>_</td>
      <td>_</td>
    </tr>
  </tbody>
</table>

<p>This means that the home row mods setup shown in the cover picture of this blog post can be written as ◆⎇⇧⎈__⎈⇧⎇◆ when using the symbols or as GASC__CSAG when using the 1-letter abbreviations. However, since the mod-taps on the right hand are symmetric to the mod-taps on the left hand, the right-hand can be omitted. Trailing underscores can also be omitted to finally produce the following notation: GASC/◆⎇⇧⎈.</p>

<p>Now that the semantics are clear, let’s talk about some interesting orders of the home row mods to give you some ideas for your own.</p>
      <h3 id="scga">
        
        
          SCGA/⇧⎈◆⎇ <a href="#scga" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h3>
    

<p>If one were to transpose the standardized modifiers layout into a 1D line, this would be it. It might look familiar and thus potentially easier to learn but keep in mind that, aside from the Shift modifiers, all the modifiers now use a different finger than what you’re used to.</p>

<figure>
  <p><a href="https://i.redd.it/oflfwzh5mbv01.jpg">
        <img src="https://i.redd.it/oflfwzh5mbv01.jpg" alt="Standard row-staggered keyboard with colorful accent modifier keys" />
</a></p>
  <figcaption>
    <p>Highlighted modifier keys on a standard row-staggered TKL keyboard. When reading the left corner of modifiers from top to botton, left to right, we get SCGA.</p>
  </figcaption>
</figure>

<p>Moreover, this is a poor allocation of the mods in regard to their frequency of usage. Assuming that you do not use Caps Lock or Shift Lock,<sup id="fnref:2" role="doc-noteref"><a href="#fn:2" class="footnote" rel="footnote">2</a></sup> Shift is <em>by far</em> the most used modifier. It is generally unwise to let the pinky take on all this load. Although letting the pinky fingers deal with Shift is the option that will necessitate the least hand swaps when typing a string of capital letters. This order also positions Alt and GUI in an undeservingly good place. The index and middle fingers are the strongest of the four non-thumb fingers but Alt and GUI aren’t the most frequently used modifiers for Windows, Linux and BSD users.</p>
      <h3 id="gasc">
        
        
          GASC/◆⎇⇧⎈ <a href="#gasc" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h3>
    

<p>This is the layout found in the cover pic of this article and what’s used in most of the examples. Compared to the SCGA order, this is much more reasonable in terms of using the strongest fingers for the most common modifiers in operating systems that are not MacOS.</p>

<p>Indeed, if you sort the four modifiers by their frequency in Windows and/or Linux, you will find: GUI &lt; Alt &lt; Control &lt; Shift.<sup id="fnref:3" role="doc-noteref"><a href="#fn:3" class="footnote" rel="footnote">3</a></sup> The observant among you will have noticed that this does not stick with GASC/◆⎇⇧⎈. Why are Control and Shift swapped? There are multiple reasons that can justify this choice:</p>
<ol>
  <li>The index finger is the finger that is responsible for the biggest amount of alpha keys so if you use the index finger to hold Shift, you’ll have to swap hands if you want to type any of the six keys — or <em>seven</em> keys if you’re on a row-stagger board and you type <kbd>C</kbd> with your left index — that the index finger is responsible for. If you’re someone who would rather not have to swap hands too much when typing capital letters, this can be interesting for you. However, do keep letter frequency in mind. In most alternative layouts, the inner index columns are populated with infrequent keys while the home row middle finger keys are assigned very common letters such as “E”.</li>
  <li>Putting Shift between Control and Alt is pretty nifty. It allows for easy chording of <kbd>Ctrl</kbd>+<kbd>Shift</kbd> and <kbd>Alt</kbd>+<kbd>Shift</kbd> (the most common combination of modifiers) by using adjacent fingers. That cannot be done with Shift placed on the index finger. Holding two modifiers that are one or two keys apart is not ideal.</li>
  <li>Concurrently to a Shift mod-tap on the home row, one may also have other Shift-like keys which are used in lieu of the home row mod to capitalize letters like for example <a href="#use-caps-lock">Caps Lock</a> or a <a href="#shift-thumb-keys">Shift thumb key</a>. By doing so, the Shift home row mod-tap is generally only used in combination with other modifiers, most frequently Control and Alt. Consequently, in light of bullet point 2, its best place is in the middle finger column.</li>
  <li>The position of GUI next to Alt allows for easy <kbd>GUI</kbd>+<kbd>Alt</kbd>+<kbd>Arrows</kbd>, a keyboard shortcut used in some DEs for switching between virtual desktops/workspaces. GUI gets put on the pinky as that’s generally the least used modifier (unless you use a tiling window manager which requires a lot of GUI keyboard shortcuts).</li>
  <li>The index fingers already have to deal with all the mouse clicking and dragging on top of all those extra inner keys it has to reach for, so you may be tempted to give it a little bit of break by sparing it from holding down a key for all your Shift needs.</li>
</ol>

<p>This works out great on ortholinear and vertically staggered keyboards but if you use a row-staggered keyboard, you may find that you’re suddenly unable to copy and paste one-handedly.</p>
      <h3 id="gacs">
        
        
          GACS/◆⎇⎈⇧ <a href="#gacs" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h3>
    

<p>GACS is the order you come up with when you want to assign the most frequently used modifiers to the strongest and most agile fingers and the least frequently used modifiers to the weakest fingers. GACS is for those who reply to GASC’s bullet point 1 by saying that enabling a greater range of one-handed <kbd>Ctrl</kbd>+<kbd>Letter</kbd> keyboard shortcuts is more important than a greater range of one-handed capital letters you can type.</p>

<p>GACS is also, notably, the order used by the most famous QMK ergo layout involving home row mods: <a href="https://github.com/manna-harbour/qmk_firmware/tree/miryoku/users/manna-harbour_miryoku">Miryoku</a>.</p>

<p>A non-obvious advantage of having Shift on the index column is that it can help to minimize accidental capital letters when rolling keys. You can’t have accidental capital letters on inwards rolls if the last key you roll is pressed with the index finger. Obviously, that does not apply to outwards rolls but those are generally slower and it beats having Shift in the middle and risking it in both ways.</p>

<p>If you’re undecided, pick GACS/◆⎇⎈⇧, it is a solid choice.</p>
      <h3 id="cags">
        
        
          CAGS/⎈⎇◆⇧ <a href="#cags" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h3>
    

<p>What if you use MacOS instead? The GUI &lt; Alt &lt; Control &lt; Shift ranking is not representative of modifier usage in MacOS. It does not even use the right terms! A more appropriate ranking of modifiers by their usage in MacOS would be Ctrl &lt; Option &lt; Command &lt; Shift. A home row mods order conceived with this ranking in mind would thus be CAGS/⎈⎇◆⇧. CAGS is to MacOS as GACS is to Windows/Linux/BSD.</p><hr />

<p>Hopefully, these four examples give you a better idea of what goes behind the conception of an order in the way the different mod-taps are laid out on the home row. You have to account for modifier frequency, finger strength and agility but also the interplay between different modifiers and the impact of temporarily losing access to a column of keys when holding down a home row mod.</p>

<p>Naturally, this is not an exhaustive list of all possible permutations of modifiers along the eight home keys. In fact, changing the order isn’t the only thing you can do. You can lay out the mod-taps differently too. See the section on <a href="#alternative-home-row-mods-layout">alternative home row mods layouts</a>.</p>

<p>Even so, despite having written much about the different home row mods orders, in the end, it truly isn’t that important. Just pick one you like and roll with it. If you’re already used to a certain order, don’t let the above points convince you to change. When you’re starting out, the pragmatic question of how to lay out the modifiers on the home row might seem important but that impression is misplaced.</p>
      <h2 id="implementation">
        
        
          Implementation <a href="#implementation" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h2>
    
<p>For the best home row mods experience, I heartily recommend a QMK-powered mechanical keyboard. At the time of writing, QMK supports over 2935 keyboards! The greater part of which are DIY keyboards.</p>

<p>The following section will be about implementing home row mods in a QMK-powered keyboard with all the necessary settings to make it work well.</p>

<p>For those of you who do not have a QMK-powered board (or those who miss their home row mods when typing on laptop or on any other non-QMK keyboard), you will find a guide for implementing home row mods using <a href="https://github.com/david-janssen/kmonad">KMonad</a> just after this section on QMK.</p>
      <h2 id="using-home-row-mods-with-qmk">
        
        
          Using home row mods with QMK <a href="#using-home-row-mods-with-qmk" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h2>
    

<p>As previously said, the way to create a dual-role key is to use what’s known as a “mod-tap” in QMK.
The mod-tap key, <code class="language-plaintext highlighter-rouge">MT(mod, kc)</code>, acts like a modifier when held, and a regular keycode when tapped. In other words, this is what allows us to have a key that sends “a” when you tap it, but function as a Shift or Control key when you hold it down. Note that the fact that we’ve turned <kbd>A</kbd> into a mod-tap does not make it impossible to use keyboard shortcuts involving the letter “A”. You can still do <kbd>Shift</kbd>+<kbd>A</kbd> or <kbd>Alt</kbd>+<kbd>A</kbd> just fine.
Although, depending on what modifier you decided to assign to <kbd>A</kbd>, you’ll need to use the opposite hand to combine that modifier with <kbd>A</kbd>.</p>

<!--Consider using the Miryoku order for the example instead-->
<p>Let me explain with an example. Let’s take the home row mod setup illustrated in the cover image of this blog post.</p>

<p><img src="assets/images/home-row-mods/RealisticHRM-Dark-SideLegends-GASC.png" alt="KLE render of dark blue QWERTY home row keycaps with mod icons in the center and mod name on the side of the keycaps" /></p>

<p>This setup, translated into code would look something like this:</p>

<figure class="highlight">
  <pre><code class="language-c" data-lang="c"><span class="n">MT</span><span class="p">(</span><span class="n">MOD_LGUI</span><span class="p">,</span> <span class="n">KC_A</span><span class="p">),</span> <span class="n">MT</span><span class="p">(</span><span class="n">MOD_LALT</span><span class="p">,</span> <span class="n">KC_S</span><span class="p">),</span> <span class="n">MT</span><span class="p">(</span><span class="n">MOD_LSFT</span><span class="p">,</span> <span class="n">KC_D</span><span class="p">),</span> <span class="n">MT</span><span class="p">(</span><span class="n">MOD_LCTL</span><span class="p">,</span> <span class="n">KC_F</span><span class="p">),</span>

<span class="n">MT</span><span class="p">(</span><span class="n">MOD_RCTL</span><span class="p">,</span> <span class="n">KC_J</span><span class="p">),</span> <span class="n">MT</span><span class="p">(</span><span class="n">MOD_RSFT</span><span class="p">,</span> <span class="n">KC_K</span><span class="p">),</span> <span class="n">MT</span><span class="p">(</span><span class="n">MOD_LALT</span><span class="p">,</span> <span class="n">KC_L</span><span class="p">),</span> <span class="n">MT</span><span class="p">(</span><span class="n">MOD_RGUI</span><span class="p">,</span> <span class="n">KC_SCLN</span><span class="p">)</span></code></pre>
</figure>

<p>Or if one were to use the shortcuts documented <a href="https://docs.qmk.fm/#/mod_tap">here</a>:</p>

<figure class="highlight">
  <pre><code class="language-js" data-lang="js"><span class="nx">LGUI_T</span><span class="p">(</span><span class="nx">KC_A</span><span class="p">),</span> <span class="nx">LALT_T</span><span class="p">(</span><span class="nx">KC_S</span><span class="p">),</span> <span class="nx">LSFT_T</span><span class="p">(</span><span class="nx">KC_D</span><span class="p">),</span> <span class="nx">LCTL_T</span><span class="p">(</span><span class="nx">KC_F</span><span class="p">),</span>

<span class="nx">RCTL_T</span><span class="p">(</span><span class="nx">KC_J</span><span class="p">),</span> <span class="nx">RSFT_T</span><span class="p">(</span><span class="nx">KC_K</span><span class="p">),</span> <span class="nx">LALT_T</span><span class="p">(</span><span class="nx">KC_L</span><span class="p">),</span> <span class="nx">RGUI_T</span><span class="p">(</span><span class="nx">KC_SCLN</span><span class="p">)</span></code></pre>
</figure>

<p>As you can see in this example, <kbd>A</kbd> is a <code class="language-plaintext highlighter-rouge">LGUI</code> mod-tap. This means that tapping the key will produce “a” and holding it will activate the left GUI modifier. If that was the only GUI mod-tap in your keymap, this would make it impossible to trigger the
<kbd>GUI</kbd>+<kbd>A</kbd>
keyboard shortcut. This is where mirroring all the modifiers on the other hand comes in handy. If you want to do
<kbd>GUI</kbd>+<kbd>A</kbd>, you’ll have to hold <code class="language-plaintext highlighter-rouge">MT(MOD_RGUI, KC_SCLN)</code>, i.e. the semicolon key in our example, and tap <code class="language-plaintext highlighter-rouge">MT(MOD_LGUI, KC_A)</code>, i.e. our <kbd>A</kbd> key.</p>

<p>In case you’re curious why <code class="language-plaintext highlighter-rouge">LALT</code> is used in place of <code class="language-plaintext highlighter-rouge">RALT</code> for the modifier of the <kbd>L</kbd> mod-tap key in this example, click <a href="#use-left-and-right-modifiers-but-beware-of-altgr">here</a> to jump down to the section on modifier handedness and possible gotchas with the Right Alt mod.</p>
      <h3 id="tap-hold-configuration-settings">
        
        
          Tap Hold configuration settings <a href="#tap-hold-configuration-settings" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h3>
    
<!-- idea: add interactive text fields in each tap hold config settings sections to invite readers to get a real feel for what typing scenarios does each setting apply for. Use something along the lines of QMK configurator test's KEYUP KEYDOWN events log box -->

<p>Configuring tap hold options is a strongly recommended step for using home row mods without pulling your hair. As such, a local QMK development environment is required since the <a href="https://config.qmk.fm/#/">online configurator</a> currently does not support configuration settings. If you haven’t set up a QMK build environment yet, follow the steps outlined in <a href="https://docs.qmk.fm/#/newbs_getting_started">this guide</a>.</p>

<p>With that out of the way, here comes the most difficult part: understanding the different tap hold configuration settings.</p>

<p>I strongly advise you to attentively read through the <a href="https://docs.qmk.fm/#/tap_hold">official QMK documentation page on tap hold configuration settings</a>.</p>

<p>Once you’re done reading through this link, come back here for a more detailed explanation of each tap hold configuration setting and their relation to home row mods.</p>
      <h4 id="ignore-mod-tap-interrupt" class="invisible-header">
        
        
          Ignore Mod-Tap Interrupt <a href="#ignore-mod-tap-interrupt" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h4>
    
      <h4 id="default">
        
        
          Default <a href="#default" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h4>
    

<p>Since QMK can’t read your mind, nor predict the future, it can’t decide between tap or hold in the moment when you first initially press down the physical key. Taps and holds both involve a key down event of the mod-tap key, so an additional event is needed to resolve the tap-or-hold decision.</p>

<p>In the case of default settings, the additional event is the release of the mod-tap key or the end of the tapping term, whichever happens first.</p>

<p>You can think of it like this: Been holding the mod-tap for more than the time defined in the tapping term? Activate the modifier. Pressed the key and then released it before the tapping term expired? That’s the QMK definition of a “tap”, send the letter!</p>

<p>As long as your fingers don’t linger on the keys for longer than the tapping term, you won’t get accidental mod activations.</p>

<p>The default settings are the recommended mode for home row mods.</p>

<p>If you read old posts about home row mods, you might come across comments urging you to enable <code class="language-plaintext highlighter-rouge">IGNORE_MOD_TAP_INTERRUPT</code> to use home row mods comfortably because the old default behavior of mod-taps was akin to “<a href="#hold-on-other-key-press">hold on other key press</a>” but since <a href="https://docs.qmk.fm/#/ChangeLog/20230528?id=i-m-t-i">QMK version 0.21</a>, released in 2023 May 28, the default behavior has been changed and the now obsolete <code class="language-plaintext highlighter-rouge">IGNORE_MOD_TAP_INTERRUPT</code> option removed.</p>
      <h4 id="tapping-term">
        
        
          Tapping Term <a href="#tapping-term" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h4>
    

<p>The tapping term is an important concept to grasp for home row mods. As we’ve just seen in the previous section, the tapping term is what helps to tell tap and hold apart.</p>

<p>The tapping term, in and of itself, is a very basic thing to understand. It is simply a period of time expressed in milliseconds that the user has defined. A timer starts on every key press and constantly checks whether the tapping term for that key has expired yet or not. The timer stops when the key is released. It is good to note that each pressed key is tracked by a specific, different timer, so to speak. When you press <kbd>A</kbd>, a timer starts but pressing another key like <kbd>O</kbd> does not bump up the timer that got started when you press <kbd>A</kbd>.<sup id="fnref:6" role="doc-noteref"><a href="#fn:6" class="footnote" rel="footnote">4</a></sup></p>

<p>Since a tap is defined as the act of pressing and releasing a key within <strong>tap</strong>ping term, the tapping term can be seen as the time window in which you need to release the key in order to register a tap. On the flip side, it can also be seen as the minimum amount of time a key must be held down to register a hold.</p>

<p>As such, a good tapping term that fits you is one that prevents accidental mod activations and keeps the intended mod activations snappy. It is a delicate balance.</p>

<p>The tapping term can be configured globally and per key to fit you. In general, people choose something between 150ms and 220ms, with the default QMK setting for the tapping term set at 200ms. Don’t be scared to increase or decrease your tapping term as you see fit.</p>

<p>For tips on configuring your tapping term and finding the sweet spot for you, click <a href="#finding-the-sweet-spot">here</a>.</p><hr />

<p>That concludes it for the <em>essential</em> tap hold configuration settings for home row mods. Don’t try to use home row mods with an insane <code class="language-plaintext highlighter-rouge">TAPPING_TERM</code>. You’ll have a bad time if you do and will come out of it thinking that “home row mods are not for me”.</p>

<p>Apart from these options, you may have noticed that QMK offers more tap hold configuration settings if you’ve read the documentation linked at the <a href="#tap-hold-configuration-settings">beginning of this section</a> — please read through those links if you haven’t yet. While non-essential, they can still be very useful and a better understanding of them can help you enable the settings that will prove beneficial to you.</p>
      <h4 id="tapping-force-hold" class="invisible-header">
        
        
          Tapping Force Hold <a href="#tapping-force-hold" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h4>
    
      <h4 id="quick-tap-term">
        
        
          Quick Tap Term <a href="#quick-tap-term" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h4>
    

<p>The first in the list and an important tap hold setting for home row mods is <code class="language-plaintext highlighter-rouge">QUICK_TAP_TERM</code>, or as I prefer to call it <code class="language-plaintext highlighter-rouge">DOUBLE_PRESS_AUTO_REPEAT_TERM</code>.</p>

<p>Over the course of normal computer usage, you will switch back and forth between typing and triggering keyboard shortcuts. When the modifiers are on the home row, sooner or later, you will feel the need to press a home row key to type a letter and then pressing that same key in order to activate a modifier. However, the default behavior for a quick tap followed by a hold is to auto-repeat the tapping function of the mod-tap.</p>

<p>This means that if you use <code class="language-plaintext highlighter-rouge">LSFT_T(KC_L)</code> for example and you want to type “camelCase”, you will end up with “camelllllllllllllllllcase” instead. The reason is that you’re tapping <code class="language-plaintext highlighter-rouge">LSFT_T(KC_L)</code> to get “l” and then immediately after, you’re holding that same <code class="language-plaintext highlighter-rouge">LSFT_T(KC_L)</code> key to activate Shift in order to type the capital “C” of “camel<strong>C</strong>ase”.</p>

<p>This problem occurs because the second press of the mod-tap key happens before the <code class="language-plaintext highlighter-rouge">QUICK_TAP_TERM</code> initiated by the first tap of the mod-tap key elapses. As you can see, the name of the option is misleading because the option is not actually about quick taps but about double presses of the same key.</p>

<p>To avoid this problem, you should thus reduce the <code class="language-plaintext highlighter-rouge">QUICK_TAP_TERM</code> from its default value of <code class="language-plaintext highlighter-rouge">TAPPING_TERM</code> into a much smaller value, or even 0 to disable the auto-repeat feature entirely. This will have the effect of letting you activate the hold function instead, when holding a dual-role key after having tapped it. No more accidental repeats of the mod-tap letters when typing quickly!</p>
      <h4 id="permissive-hold">
        
        
          Permissive Hold <a href="#permissive-hold" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h4>
    

<p>Second in the list is “permissive hold”. It is an option that adds another way to trigger the hold function of dual-role keys.</p>

<p>Permissive hold activates the modifier when another key is pressed and released while the mod-tap is held, regardless of the tapping term. It means that this option allows the user to trigger a keyboard shortcut with a mod-tap key before the end of the tapping term.</p>

<p>Consider the following case:</p>

<div class="typingScenario">

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code class="language-plaintext highlighter-rouge">RCTL_T(N)</code></td>
        <td>Down/Press</td>
      </tr>
      <tr>
        <td><code class="language-plaintext highlighter-rouge">RGUI_T(O)</code></td>
        <td>Down/Press</td>
      </tr>
      <tr>
        <td><code class="language-plaintext highlighter-rouge">RGUI_T(O)</code></td>
        <td>Up/Release</td>
      </tr>
      <tr>
        <td><code class="language-plaintext highlighter-rouge">RCTL_T(N)</code></td>
        <td>Up/Release</td>
      </tr>
    </tbody>
  </table>

  <p><img src="assets/images/home-row-mods/DarkPermissiveHoldNO.gif" alt="Doing Ctrl+O, permissive hold style, on the right half of a Squiggle with dark Colemak-DH MBK choc keycaps" title="Right half of a Squiggle keyboard with Colemak-DH" /></p>

</div>

<p>In English, this is a situation where you’re tapping <kbd>O</kbd> while holding down <kbd>N</kbd>. It can also be called a “nested tap”. If all of this happens before the end of the tapping term, the output, assuming mod-tap interrupts are ignored, would be “no”. Contrast this to the scenario when permissive hold is enabled where the output would instead be <kbd>Ctrl</kbd>+<kbd>O</kbd>.</p>

<p>As you can see, the assumption here is that if the user taps another key while holding down one or more mod-tap keys, he isn’t doing typing rolls and as such desires to trigger a keyboard shortcut instead. The tapping term is irrelevant here.</p>

<p>Consequently, this option allows the use of home row mods with a tapping term that’s much greater than 200ms. Though, people with a high tapping term aren’t the only ones who can benefit from this option. Fast typists who are used to swift taps and rolls can enable this option for snappier mod activations and thus bypass the need to wait out the tapping term for the modifiers to take effect. It is particularly useful for Shift.</p>

<p>Owing to the fact that permissive hold is… more permissive in what counts as a hold, it makes it easier to trigger mods so unintended mod activations can happen if the aforementioned case is something you frequently do when typing normally. Depending on your typing style, permissive hold might do more harm than good.</p>

<p>As with many other tap hold settings, there exists a global <code class="language-plaintext highlighter-rouge">PERMISSIVE_HOLD</code> setting and a per-key option, aptly named <code class="language-plaintext highlighter-rouge">PERMISSIVE_HOLD_PER_KEY</code>. Consult the <a href="https://docs.qmk.fm/#/tap_hold#permissive-hold">documentation</a> to figure out how to enable and configure this setting.</p>
      <h4 id="hold-on-other-key-press">
        
        
          Hold on Other Key Press <a href="#hold-on-other-key-press" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h4>
    

<p>The underlying logic of “hold on other key press” is quite simple. Did another key get pressed while the user was holding down the mod-tap key? If that’s the case, this is a keyboard shortcut; apply the modifier on that pressed key. What if, instead, no key got pressed while the user was holding down the mod-tap? Well, if the user presses and releases a key by itself, without pressing any other key in between, it must mean the user wanted the tapping function of the mod-tap since there is no use to tapping a modifier key all by itself.<sup id="fnref:4" role="doc-noteref"><a href="#fn:4" class="footnote" rel="footnote">5</a></sup> Simple enough right? If you want to activate the holding function, just press on another key while holding the mod-tap key.</p>

<p>Here comes the problem with that approach if one were to use home row mods. We like to imagine typing as tapping a sequence of keys all on their own, in order. However, there’s quite some overlap between the press and release of each key. Especially so when typing at high speeds. When typing the word “no” for example, we rarely press and fully release <kbd>N</kbd> <em>before</em> pressing <kbd>O</kbd>. Try it! If you’re not a hunt’n’pecker, this is how you’re most likely going to type “no”:</p>

<div class="typingScenario">

  <table>
    <thead>
      <tr>
        <th>Key</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><kbd>N</kbd></td>
        <td>Down/Press</td>
      </tr>
      <tr>
        <td><kbd>O</kbd></td>
        <td>Down/Press</td>
      </tr>
      <tr>
        <td><kbd>N</kbd></td>
        <td>Up/Release</td>
      </tr>
      <tr>
        <td><kbd>O</kbd></td>
        <td>Up/Release</td>
      </tr>
    </tbody>
  </table>

  <p><img src="assets/images/home-row-mods/DarkRollingNO.gif" alt="Typing &quot;no&quot; on the right half of a Squiggle with dark Colemak-DH MBK choc keycaps" title="Right half of a Squiggle keyboard with Colemak-DH" /></p>

</div>

<p>Now imagine if <kbd>N</kbd> and <kbd>O</kbd> were both mod-taps — it would be the case if you use home row mods on Colemak like in the animation above. With <code class="language-plaintext highlighter-rouge">HOLD_ON_OTHER_KEY_PRESS</code> settings, this is bad news. Indeed, typing involves a lot of such rolls, where you press the next letter before having fully released the previous one.</p>

<p>For that reason, <code class="language-plaintext highlighter-rouge">HOLD_ON_OTHER_KEY_PRESS</code> is strongly discouraged for home row mods.</p>
      <h4 id="retro-tapping">
        
        
          Retro Tapping <a href="#retro-tapping" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h4>
    

<p>Remember how I said that there isn’t much use in pressing and releasing a modifier all by itself? Mod-taps (ab)use this property, but as it turns out mod-taps have the exact same property themselves. If you hold down a mod-tap for longer than the tapping term and then release it without having pressed any other key in between, your QMK keyboard is going to send a press and release event of the modifier to your computer; not too different from tapping a basic modifier key. If that seems wasteful for you, then let me introduce you to <em>retro tapping</em>.</p>

<p>When a mod-tap is held for a long time and released on its own, retro tap will activate the tapping function, after having released the modifier of the mod-tap.</p>

<p>To give an example, if you press and hold <code class="language-plaintext highlighter-rouge">LGUI_T(KC_A)</code> for longer than the tapping term and then release it by itself, the host computer that your QMK keyboard is connected to first sees <code class="language-plaintext highlighter-rouge">KC_LGUI</code> being pressed when you hold down the mod-tap for longer than the tapping term and then the host computer gets notified that <code class="language-plaintext highlighter-rouge">KC_LGUI</code> is released when you take your finger off <code class="language-plaintext highlighter-rouge">LGUI_T(KC_A)</code> on your keyboard. This is the default behavior for mod-taps held and released by themselves. What retro tap does is sending <code class="language-plaintext highlighter-rouge">KC_A</code> once <code class="language-plaintext highlighter-rouge">KC_LGUI</code> is released/inactive.</p>

<!--Consider putting an animation of a keyboard pressing keys and a host computer receiving scan codes-->

<p>Retro Tap thus gives another way to trigger the tapping function of mod-taps. With this option, you can get away with a very short tapping term.</p>

<p>However, this particular example highlights a potential problem with retro tap. In many popular desktop environments, the start menu is brought up by tapping the GUI key. A user of this kind of desktop environment who would like to send “a” by retro-tapping <code class="language-plaintext highlighter-rouge">LGUI_T(KC_A)</code> would accidentally open up the start menu and type “a” in its search bar.</p>

<p>What if you use another way to bring up the start menu? You’ll still have a problem with the Alt key which is used for navigating through menus of graphical applications. You can avoid accidental pop-ups of the menu when retro-tapping the alt mod-taps by disabling the functionality in the apps settings. For example in Firefox, it can be done by going in <code class="language-plaintext highlighter-rouge">about:config</code> and turning <code class="language-plaintext highlighter-rouge">ui.key.menuAccessKeyFocuses</code> to <code class="language-plaintext highlighter-rouge">false</code>. Apps rarely offer the possibility of disabling Alt’s tapping behavior though.</p>

<p>The Alt and GUI modifiers aren’t the only problem, think of the mouse too. The firmware that’s running on your keyboard cannot tell that you have clicked or scrolled the mouse wheel while holding down a mod-tap key. All it sees is that you’ve been holding down a mod-tap for more than the tapping term and released it without pressing any other key in between. As we now know, this is the cue for the firmware to activate the tapping function of the mod-tap in question if retro tap is enabled. <kbd>Ctrl</kbd>+<kbd>Left-Click</kbd> to open a link in a new tab or <kbd>Shift</kbd>+<kbd>Scrollwheel</kbd> to scroll sideways would thus be accompanied with unintended letters.</p>

<p>To counteract this, QMK lets you define a <code class="language-plaintext highlighter-rouge">DUMMY_MOD_NEUTRALIZER_KEYCODE</code> in <code class="language-plaintext highlighter-rouge">config.h</code> that will get sent in between the register and unregister events of a held mod-tap key. That way, the programs on your computer will no longer interpret the mod suppression induced by retro-tapping as a lone tap of a modifier key and will thus not falsely trigger the undesired action.</p>

<p>Naturally, for this technique to be effective, you must choose a <code class="language-plaintext highlighter-rouge">DUMMY_MOD_NEUTRALIZER_KEYCODE</code> for which no keyboard shortcuts are bound to. Recommended values are: <code class="language-plaintext highlighter-rouge">KC_RIGHT_CTRL</code> or <code class="language-plaintext highlighter-rouge">KC_F18</code>. 
Please note that <code class="language-plaintext highlighter-rouge">DUMMY_MOD_NEUTRALIZER_KEYCODE</code> must be a basic, unmodified, HID keycode so values like <code class="language-plaintext highlighter-rouge">KC_NO</code>, <code class="language-plaintext highlighter-rouge">KC_TRANSPARENT</code> or <code class="language-plaintext highlighter-rouge">KC_PIPE</code> aka <code class="language-plaintext highlighter-rouge">S(KC_BACKSLASH)</code> are not permitted.</p>

<p>By default, only left Alt and left GUI are neutralized. If you want to change the list of applicable modifier masks, use the following in your <code class="language-plaintext highlighter-rouge">config.h</code>:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#define MODS_TO_NEUTRALIZE { &lt;mod_mask_1&gt;, &lt;mod_mask_2&gt;, ... }
</span></code></pre></div></div>

<p>Examples:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#define DUMMY_MOD_NEUTRALIZER_KEYCODE KC_RIGHT_CTRL
</span>
<span class="c1">// Neutralize left alt and left GUI (Default value)</span>
<span class="cp">#define MODS_TO_NEUTRALIZE { MOD_BIT(KC_LEFT_ALT), MOD_BIT(KC_LEFT_GUI) }
</span>
<span class="c1">// Neutralize left alt, left GUI, right GUI and left Control+Shift</span>
<span class="cp">#define MODS_TO_NEUTRALIZE { MOD_BIT(KC_LEFT_ALT), MOD_BIT(KC_LEFT_GUI), MOD_BIT(KC_RIGHT_GUI), MOD_BIT(KC_LEFT_CTRL)|MOD_BIT(KC_LEFT_SHIFT) }
</span></code></pre></div></div>
      <h4 id="retro-shift">
        
        
          Retro Shift <a href="#retro-shift" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h4>
    

<p>Retro Shift builds upon the functionality of Retro Tap in order to marry <a href="https://docs.qmk.fm/#/feature_auto_shift">Auto Shift</a> with <a href="https://docs.qmk.fm/#/mod_tap">mod-taps</a>.</p>

<p>Retro Shift lets you get the shifted state of a mod-tap by releasing the mod-tap key past the end of the tapping term, in a similar fashion to Auto Shift which emits the shifted state of a basic key if it’s been held down for longer than the <code class="language-plaintext highlighter-rouge">AUTO_SHIFT_TIMEOUT</code>.</p>

<p>With Auto Shift and Retro Shift, you can confidently eradicate all Shift keys from your keymap.<sup id="fnref:7" role="doc-noteref"><a href="#fn:7" class="footnote" rel="footnote">6</a></sup></p>

<p>In case you’re worried for the flaws that plague Retro Tap to be present in Retro Shift too, don’t be. As the <a href="https://github.com/manna-harbour/qmk_firmware/blob/retro-shift/docs/tap_hold.md#retro-shift">docs</a> say, “if <code class="language-plaintext highlighter-rouge">RETRO_SHIFT</code> is defined to a value, hold times greater than that value will not produce a tap on release. This enables modifiers to be held for combining with mouse clicks without generating taps on release.”</p><hr />

<p>That is it for all the available QMK tap hold configuration settings. In summary, there is only one essential tap hold setting: <code class="language-plaintext highlighter-rouge">TAPPING_TERM</code>. Even then, chances are that you won’t even need to tweak it since the default value will suit most users.</p>

<p>Aside from that, there exists another very commonly recommended setting: <code class="language-plaintext highlighter-rouge">QUICK_TAP_TERM</code>. Don’t be misled by the name, it is not about quick taps but about the behavior of the key if you double-press it within a certain time window. It is recommended to set it to 0 or another very low value.</p>

<p><code class="language-plaintext highlighter-rouge">PERMISSIVE_HOLD</code> can be useful if you have a very high tapping term. If you have a lower tapping term, <code class="language-plaintext highlighter-rouge">PERMISSIVE_HOLD</code> generally produces many misfires unless you’re very consistent in your typing style so it is not recommended.</p>

<p>Though, it is nothing in comparison to the amount of misfires you’ll get with <code class="language-plaintext highlighter-rouge">HOLD_ON_OTHER_KEY_PRESS</code>. Home row mods are pretty much unusable with that option.</p>

<p>As for <code class="language-plaintext highlighter-rouge">RETRO_TAPPING</code>, it might appear appealing at first glance but it has its load of problems which make it unsuitable for home row mods.</p>
      <h3 id="getting-started-with-home-row-mods-on-qmk">
        
        
          Getting started with home row mods on QMK <a href="#getting-started-with-home-row-mods-on-qmk" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h3>
    

<p>Armed with all this knowledge, we can now add home row mods to our keymap and flash it onto our board.</p>

<p>Let’s start with tap hold configuration settings. Copy and paste those lines in your <code class="language-plaintext highlighter-rouge">config.h</code> file (create the file in your personal keymap folder if it’s not already present):</p>

<figure class="highlight">
  <pre><code class="language-js" data-lang="js"><span class="c1">// Configure the global tapping term (default: 200ms)</span>
<span class="err">#</span><span class="nx">define</span> <span class="nx">TAPPING_TERM</span> <span class="mi">200</span>

<span class="c1">// Enable rapid switch from tap to hold, disables double tap hold auto-repeat.</span>
<span class="err">#</span><span class="nx">define</span> <span class="nx">QUICK_TAP_TERM</span> <span class="mi">0</span></code></pre>
</figure>

<p>Once that’s done, open up <code class="language-plaintext highlighter-rouge">keymap.c</code>, and convert all the home row keys into mod-tap keys. You have multiple options for doing so. In any case, it is best to use aliases as the convention is to keep all keycode names strictly under 8 characters long in order to keep a tidy, aligned and readable layout in the <code class="language-plaintext highlighter-rouge">keymap.c</code> file. This is not possible if you use something like <code class="language-plaintext highlighter-rouge">MT(mod, kc)</code> or <code class="language-plaintext highlighter-rouge">LMOD_T(kc)</code>. For example, potential aliases for US QWERTY with GASC/◆⎇⇧⎈ order could be:</p>

<figure class="highlight">
  <pre><code class="language-js" data-lang="js"><span class="c1">// Left-hand home row mods</span>
<span class="err">#</span><span class="nx">define</span> <span class="nx">HOME_A</span> <span class="nx">LGUI_T</span><span class="p">(</span><span class="nx">KC_A</span><span class="p">)</span>
<span class="err">#</span><span class="nx">define</span> <span class="nx">HOME_S</span> <span class="nx">LALT_T</span><span class="p">(</span><span class="nx">KC_S</span><span class="p">)</span>
<span class="err">#</span><span class="nx">define</span> <span class="nx">HOME_D</span> <span class="nx">LSFT_T</span><span class="p">(</span><span class="nx">KC_D</span><span class="p">)</span>
<span class="err">#</span><span class="nx">define</span> <span class="nx">HOME_F</span> <span class="nx">LCTL_T</span><span class="p">(</span><span class="nx">KC_F</span><span class="p">)</span>

<span class="c1">// Right-hand home row mods</span>
<span class="err">#</span><span class="nx">define</span> <span class="nx">HOME_J</span> <span class="nx">RCTL_T</span><span class="p">(</span><span class="nx">KC_J</span><span class="p">)</span>
<span class="err">#</span><span class="nx">define</span> <span class="nx">HOME_K</span> <span class="nx">RSFT_T</span><span class="p">(</span><span class="nx">KC_K</span><span class="p">)</span>
<span class="err">#</span><span class="nx">define</span> <span class="nx">HOME_L</span> <span class="nx">LALT_T</span><span class="p">(</span><span class="nx">KC_L</span><span class="p">)</span>
<span class="err">#</span><span class="nx">define</span> <span class="nx">HOME_SCLN</span> <span class="nx">RGUI_T</span><span class="p">(</span><span class="nx">KC_SCLN</span><span class="p">)</span></code></pre>
</figure>

<p>If you feel like <code class="language-plaintext highlighter-rouge">HOME_letter</code> is too vague, nothing prevents you from doing something like this:</p>

<figure class="highlight">
  <pre><code class="language-js" data-lang="js"><span class="c1">// Left-hand home row mods</span>
<span class="err">#</span><span class="nx">define</span> <span class="nx">GUI_A</span> <span class="nx">LGUI_T</span><span class="p">(</span><span class="nx">KC_A</span><span class="p">)</span>
<span class="err">#</span><span class="nx">define</span> <span class="nx">ALT_S</span> <span class="nx">LALT_T</span><span class="p">(</span><span class="nx">KC_S</span><span class="p">)</span>
<span class="err">#</span><span class="nx">define</span> <span class="nx">SFT_D</span> <span class="nx">LSFT_T</span><span class="p">(</span><span class="nx">KC_D</span><span class="p">)</span>
<span class="err">#</span><span class="nx">define</span> <span class="nx">CTL_F</span> <span class="nx">LCTL_T</span><span class="p">(</span><span class="nx">KC_F</span><span class="p">)</span>

<span class="c1">// Right-hand home row mods</span>
<span class="err">#</span><span class="nx">define</span> <span class="nx">CTL_J</span> <span class="nx">RCTL_T</span><span class="p">(</span><span class="nx">KC_J</span><span class="p">)</span>
<span class="err">#</span><span class="nx">define</span> <span class="nx">SFT_K</span> <span class="nx">RSFT_T</span><span class="p">(</span><span class="nx">KC_K</span><span class="p">)</span>
<span class="err">#</span><span class="nx">define</span> <span class="nx">ALT_L</span> <span class="nx">LALT_T</span><span class="p">(</span><span class="nx">KC_L</span><span class="p">)</span>
<span class="err">#</span><span class="nx">define</span> <span class="nx">GUI_SCLN</span> <span class="nx">RGUI_T</span><span class="p">(</span><span class="nx">KC_SCLN</span><span class="p">)</span></code></pre>
</figure>

<p>Note: Do not redefine <code class="language-plaintext highlighter-rouge">SFT_T</code> because you have a <kbd>Shift</kbd>/<kbd>T</kbd> mod-tap. <code class="language-plaintext highlighter-rouge">SFT_T</code> is already in use in the core QMK code as an alias for <code class="language-plaintext highlighter-rouge">LSFT_T(kc)</code> and redefining it in your keymap will produce compile errors. You’re advised to use <code class="language-plaintext highlighter-rouge">#define SHFT_T LSFT_T(KC_T)</code> instead.</p>

<p>Afterwards, it’s just a matter of replacing all the basic <code class="language-plaintext highlighter-rouge">KC_letter</code> situated on the home row in the <code class="language-plaintext highlighter-rouge">LAYOUT</code> of your <code class="language-plaintext highlighter-rouge">keymap.c</code> with the mod-taps aliases you’ve defined.</p>
      <h3 id="qmk-home-row-mods-code-generator">
        
        
          Home row mods code generator <a href="#qmk-home-row-mods-code-generator" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h3>
    

<p>For your convenience, below you can find a form that you can fill in with your options in order to generate mod-tap aliases and the home row.</p>

<details>
  <summary> Additional information</summary>

  <p>For best results, make sure to use US QWERTY on your OS since the generated code uses the default QMK keycode labels which are based on US QWERTY.</p>

  <p>If your layout isn’t present in the list, select “Other” in the dropdown list and fill in all the ten characters of your home row. To accommodate layouts such as QWERTY and <a href="https://github.com/MadRabbit/halmak">Halmak</a>, a limited set of punctuation characters are accepted in the custom layout field. They are <code class="language-plaintext highlighter-rouge">-</code>, <code class="language-plaintext highlighter-rouge">.</code>, <code class="language-plaintext highlighter-rouge">,</code>, <code class="language-plaintext highlighter-rouge">/</code>, <code class="language-plaintext highlighter-rouge">\</code>, and <code class="language-plaintext highlighter-rouge">;</code>. If you wish to use <a href="#upperlower-row-mods">upper/lower row mods</a>, you can also select “Other” and fill in the text field with the upper/lower row of your keyboard layout.</p>

  <p>The order options use the notation described in the section on <a href="#home-row-mods-order">home row mods orders</a>. The leftmost modifier is the one on the pinky and the rightmost modifier is the one on the index finger (not the inner index column). If you wish to use another home row mods order, check “Other” and specify your desired order in the same notation. <a href="#alternative-home-row-mods-layout">Alternative home row mods layouts</a> are not supported, but you’re free to use <code class="language-plaintext highlighter-rouge">_</code> to omit some modifiers if you want less than 2×4 home row mods.</p>

  <p>In case you’re curious why <code class="language-plaintext highlighter-rouge">LALT</code> is used in place of <code class="language-plaintext highlighter-rouge">RALT</code> in the generated code for the right-hand Alt mod-tap, click <a href="#use-left-and-right-modifiers-but-beware-of-altgr">here</a> to jump down to the section on modifier handedness and possible gotchas with the Right Alt mod.</p>
</details>

<form style="background: #131317;border: 25px solid #131317; border-radius: 25px;">
  <p>
Select your layout<br />
<select name="layouts" onchange="showTextField('QMKLayout')">
<option value="ASDFGHJKL;" selected="">QWERTY/AZERTY/QWERTZ </option>
<option value="AOEUIDHTNS"> Dvorak</option>
<option value="ARSTDHNEIO"> Colemak vanilla</option>
<option value="ARSTGMNEIO"> Colemak DH</option>
<option value="ASHTGYNEOI"> Workman</option>
<option value="RSTHDMNAIO"> RSTHD</option>
<option value="YIEA.DSTNB"> BEAKL15</option>
<option value="OTHER" id="otherQMKLayout"> Other </option>
</select>
</p>
  <div id="customQMKLayout" style="display:none">
    <p>Specify the ten characters of the row you want to apply mod-taps to.<br />Accepted characters: <code class="language-plaintext highlighter-rouge">A–Za–z0–9.,;/\'-</code><br />
<input type="text" maxlength="10" id="customQMKLayoutInput" pattern="[A-Za-z0-9-.,;\/'\\]{10}" title="Lowercase is allowed too" /></p>
  </div>

  <p>
Enter your desired tapping term (in ms)<br />
<input type="number" name="QMKTappingTerm" min="1" value="200" />
</p>

  <p>
Select your home row mods order<br />
<select name="homeRowModsOrders" onchange="showTextField('QMKOrder')">
<option value="GASC" selected=""> GASC</option>
<option value="GACS"> GACS</option>
<option value="SCGA"> SCGA</option>
<option value="CAGS"> CAGS</option>
<option value="OTHER" id="otherQMKOrder"> Other </option>
</select>
</p>
  <div id="customQMKOrder" style="display:none">
    <p>Specify your desired <a href="#home-row-mods-order">home row mods order</a><br />Accepted characters: <code class="language-plaintext highlighter-rouge">GASC_</code><br />
<input type="text" id="customQMKOrderInput" maxlength="4" pattern="[_GgAaSsCc]{4}" title="Lowercase is allowed too." /></p>
  </div>

  <p>
Select your desired alias style<br />
<select name="aliasStyle">
<option value="HOME" selected=""> HOME</option>
<option value="MOD"> MOD</option>
</select>
</p>

  <p style="margin-bottom: 0em;">
<input type="button" onclick="generateQMKCode(form.elements)" name="submit" value="Generate" />
</p>

  <div id="QMKGeneratorErrors" style="display: none;min-width: 100%;text-align: center;background: #f006; border-radius:15px; margin-top: 1em;"></div>
</form>

<div id="generatedQMKTappingTerm" style="display:none"></div>
<div id="generatedQMKAliases" style="display:none">
  <p>Paste this at the top of your <code class="language-plaintext highlighter-rouge">keymap.c</code> file</p>
</div>
<div id="generatedQMKHomeRow" style="display:none"></div>

<p><br /></p>
      <h2 id="using-home-row-mods-with-kmonad">
        
        
          Using home row mods with KMonad <a href="#using-home-row-mods-with-kmonad" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h2>
    

<p><a href="#tips-and-tricks">Skip to “Tips &amp; Tricks”</a></p>

<p>Aside from QMK, <a href="https://github.com/kmonad/kmonad">KMonad</a> is another piece of software which allows the implementation of home row mods. Its greatest perk is that it does not require a special keyboard like QMK does (although Hasu’s USB-to-USB controller can turn any USB keyboard into a QMK-compatible keyboard). It’s a cross-platform application that runs on the computer, not on the keyboard chip.</p>

<p>KMonad isn’t the only computer program which features mod-taps, it’s been preceded by <a href="https://github.com/alols/xcape">xcape</a> and <a title="Space and Shift (archived link in Japanese)" href="https://web.archive.org/web/20020215203809/http://hp.vector.co.jp/authors/VA002116/sands/">SandS</a>, the very first mod-tap ever. What sets it apart though is that, unlike all those other programs, it features much more configuration options for mod-taps. On most, you’re not allowed to roll your keys and you’re limited to simply tweaking the tapping term.</p>

<p>That’s not to say that KMonad uses the same configuration options as QMK does. They’re different programs made by different people.</p>

<p>If you want to tweak the mod-tap functionality, which by the way is called a “multi-use button” in KMonad, the way to go is to use the button that fits your desired behavior. KMonad has a bunch of mod-tap buttons. The one that’s of interest for home row mods is <code class="language-plaintext highlighter-rouge">tap-hold-next-release</code>.</p>

<p><code class="language-plaintext highlighter-rouge">tap-hold-next-release</code> works best for home row mods as it reliably acts exactly like a modifier past the tapping term and activates the “tapping” button in rolling sequences. For more information on how it works and how the other multi-use buttons work, refer to the <a href="https://github.com/kmonad/kmonad/blob/master/keymap/tutorial.kbd">configuration tutorial</a>, and in particular, the <a href="https://github.com/kmonad/kmonad/blob/98317531da8b9c2f21d5cb80b748eb23ef8f6b63/keymap/tutorial.kbd#L601">section on multi-use buttons</a>.</p>

<p>As with all the other <code class="language-plaintext highlighter-rouge">-hold</code> multi-use buttons, <code class="language-plaintext highlighter-rouge">tap-hold-next-release</code> takes in three arguments:</p>

<ol>
  <li>A timeout value expressed in milliseconds which is akin to the tapping term used by QMK</li>
  <li>The “tapping” button. For home row mods, this will correspond to the home row letter.</li>
  <li>The “holding” button. For home row mods, this will correspond to the modifier.</li>
</ol>

<p>To give an example, this would be the KMonad syntax for an <kbd>A</kbd> key that acts as a GUI modifier when held, with a defined timeout hold value of 200 milliseconds.</p>

<figure class="highlight">
  <pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="nf">tap-hold-next-release</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">lgui</span><span class="p">)</span></code></pre>
</figure>

<p>In the same spirit that we’ve defined an alias for mod-taps in the section on getting started with home row mods on QMK to make the layout more readable, we can give a short name to mod-taps in KMonad with <code class="language-plaintext highlighter-rouge">defalias</code>.</p>

<figure class="highlight">
  <pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="nf">defalias</span><span class="w"> </span><span class="n">gui_a</span><span class="w"> </span><span class="p">(</span><span class="nf">tap-hold-next-release</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">lgui</span><span class="p">))</span></code></pre>
</figure>

<p>As you may have noticed, KMonad uses a lisp-like syntax for its configuration language. For more information on how to configure KMonad, you’re invited to read through the <a href="https://github.com/kmonad/kmonad/blob/master/keymap/tutorial.kbd">configuration tutorial</a>, which has already been linked, or through the <a href="https://github.com/kmonad/kmonad/blob/master/keymap/user">public user configurations</a>.</p>
      <h3 id="getting-started-with-home-row-mods-on-kmonad">
        
        
          Getting started with home row mods on KMonad <a href="#getting-started-with-home-row-mods-on-kmonad" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h3>
    

<p>Install <a href="https://github.com/kmonad/kmonad">KMonad</a> by following the <a href="https://github.com/david-janssen/kmonad/blob/master/doc/installation.md">installation instructions</a>. If you encounter troubleshooting issues, make sure to check out the <a href="https://github.com/david-janssen/kmonad/blob/master/doc/faq.md">FAQ</a>.</p>

<p>Once KMonad is installed on your PC, the next step is to create a new <code class="language-plaintext highlighter-rouge">.kbd</code> file. Call it however you want. This will be the configuration file that you will pass as input to KMonad when launching it.</p>

<p>The KMonad configuration file can be broken up in four main blocks:</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">defcfg</code></li>
  <li><code class="language-plaintext highlighter-rouge">defsrc</code></li>
  <li><code class="language-plaintext highlighter-rouge">defalias</code> (optional)</li>
  <li><code class="language-plaintext highlighter-rouge">deflayer</code></li>
</ol>
      <h4 id="1-defcfg">
        
        
          1. defcfg <a href="#1-defcfg" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h4>
    
<!-- Add mention and explanations of `cmp-seq` -->

<p>In a nutshell, this is where you tell KMonad what keyboard you want it to affect and where and how to find it in your system. Naturally, the process will look a bit different based on the OS you use. Click on the name of your operating system to be directed to the relevant instructions: <a href="https://github.com/david-janssen/kmonad/blob/2f20899630d95deed66cd8b2f0dcc3387a3e63d7/keymap/tutorial.kbd#L80...L95">Linux</a>, <a href="https://github.com/david-janssen/kmonad/blob/2f20899630d95deed66cd8b2f0dcc3387a3e63d7/keymap/tutorial.kbd#L98...L112">Windows</a>, <a href="https://github.com/david-janssen/kmonad/blob/2f20899630d95deed66cd8b2f0dcc3387a3e63d7/keymap/tutorial.kbd#L115...L128">MacOS</a>.</p>

<p>The <code class="language-plaintext highlighter-rouge">defcfg</code> code block looks like this:</p>

<figure class="highlight">
  <pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="nf">defcfg</span><span class="w">
  </span><span class="c1">;; For Linux</span><span class="w">
  </span><span class="n">input</span><span class="w">  </span><span class="p">(</span><span class="nf">device-file</span><span class="w"> </span><span class="s">"/dev/input/by-id/usb-04d9_daskeyboard-event-kbd"</span><span class="p">)</span><span class="w">
  </span><span class="n">output</span><span class="w"> </span><span class="p">(</span><span class="nf">uinput-sink</span><span class="w"> </span><span class="s">"My KMonad output"</span><span class="w">

  </span><span class="c1">;; For Windows</span><span class="w">
  </span><span class="n">input</span><span class="w">  </span><span class="p">(</span><span class="nf">low-level-hook</span><span class="p">)</span><span class="w">
  </span><span class="n">output</span><span class="w"> </span><span class="p">(</span><span class="nf">send-event-sink</span><span class="p">)</span><span class="w">

  </span><span class="c1">;; For MacOS</span><span class="w">
  </span><span class="n">input</span><span class="w">  </span><span class="p">(</span><span class="nf">iokit-name</span><span class="w"> </span><span class="s">"my-keyboard-product-string"</span><span class="p">)</span><span class="w">
  </span><span class="n">output</span><span class="w"> </span><span class="p">(</span><span class="nf">kext</span><span class="p">)</span><span class="w">

  </span><span class="c1">;; This option tells KMonad to let non-configured keys act normal</span><span class="w">
  </span><span class="n">fallthrough</span><span class="w"> </span><span class="n">true</span><span class="w">
</span><span class="p">)</span></code></pre>
</figure>
      <h4 id="2-defsrc">
        
        
          2. defsrc <a href="#2-defsrc" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h4>
    

<p>This is where you specify the physical keys on which you want KMonad to apply. If all you want to do is add home row mods to your board and keep normal behavior for every other key, enable <code class="language-plaintext highlighter-rouge">fallthrough</code> in the <code class="language-plaintext highlighter-rouge">defcfg</code> block and paste the following <code class="language-plaintext highlighter-rouge">defsrc</code> block to your <code class="language-plaintext highlighter-rouge">.kbd</code> configuration file:</p>

<figure class="highlight">
  <pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="nf">defsrc</span><span class="w">
    </span><span class="n">a</span><span class="w">    </span><span class="n">s</span><span class="w">    </span><span class="n">d</span><span class="w">    </span><span class="n">f</span><span class="w">    </span><span class="n">g</span><span class="w">    </span><span class="n">h</span><span class="w">    </span><span class="n">j</span><span class="w">    </span><span class="n">k</span><span class="w">    </span><span class="n">l</span><span class="w">    </span><span class="c1">;</span><span class="w">
</span><span class="p">)</span></code></pre>
</figure>

<p>It doesn’t matter whether you’re a French speaker whose home row spells out
<kbd>Q</kbd><kbd>S</kbd><kbd>D</kbd><kbd>F</kbd><kbd>G</kbd><kbd>H</kbd><kbd>J</kbd><kbd>K</kbd><kbd>L</kbd><kbd>M</kbd>
or a Russian speaker whose home row spells out
<kbd>Ф</kbd><kbd>Ы</kbd><kbd>В</kbd><kbd>А</kbd><kbd>П</kbd><kbd>Р</kbd><kbd>О</kbd><kbd>Л</kbd><kbd>Д</kbd><kbd>Ж</kbd>,
 the above code still applies since KMonad operates at a low-level and deals with keycodes as opposed to keysyms. The <code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">;</code> button names are simply labels based on US QWERTY to make configuration easier. Don’t read them as the “keys that produce, respectively, the symbols ‘a’ and ‘;’ on the screen when pressed” but rather the “home row pinky keys”.</p>
      <h4 id="3-defalias">
        
        
          3. defalias <a href="#3-defalias" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h4>
    

<p>As mentioned in the beginning of this section on KMonad, if you intend to use mod-taps/multi-use buttons, you should consider using aliases in order to keep a readable layout.</p>

<p>Aliasing all home row mods is repetitive and rather long, so I recommend using the <a href="#kmonad-home-row-mods-code-generator">KMonad code generator</a>, found further down the guide.</p>

<p>For illustrative purposes, here’s the <code class="language-plaintext highlighter-rouge">defalias</code> block of a standard keymap using the GACS/◆⎇⎈⇧ order for the home row mods, and 200ms for the tapping term:</p>

<figure class="highlight">
  <pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="nf">defalias</span><span class="w">
    </span><span class="n">met_a</span><span class="w"> </span><span class="p">(</span><span class="nf">tap-hold-next-release</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">lmet</span><span class="p">)</span><span class="w">
    </span><span class="n">alt_s</span><span class="w"> </span><span class="p">(</span><span class="nf">tap-hold-next-release</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="n">lalt</span><span class="p">)</span><span class="w">
    </span><span class="n">ctl_d</span><span class="w"> </span><span class="p">(</span><span class="nf">tap-hold-next-release</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="n">lctl</span><span class="p">)</span><span class="w">
    </span><span class="n">sft_f</span><span class="w"> </span><span class="p">(</span><span class="nf">tap-hold-next-release</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">lsft</span><span class="p">)</span><span class="w">

    </span><span class="n">sft_j</span><span class="w"> </span><span class="p">(</span><span class="nf">tap-hold-next-release</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">rsft</span><span class="p">)</span><span class="w">
    </span><span class="n">ctl_k</span><span class="w"> </span><span class="p">(</span><span class="nf">tap-hold-next-release</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">rctl</span><span class="p">)</span><span class="w">
    </span><span class="n">alt_l</span><span class="w"> </span><span class="p">(</span><span class="nf">tap-hold-next-release</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="n">lalt</span><span class="p">)</span><span class="w">
    </span><span class="n">met_</span><span class="c1">; (tap-hold-next-release 200 ; rmet)</span><span class="w">
</span><span class="p">)</span></code></pre>
</figure>

<p>Note: KMonad calls the GUI modifier “Meta”, abbreviated as <code class="language-plaintext highlighter-rouge">lmet</code> and <code class="language-plaintext highlighter-rouge">rmet</code>.</p>
      <h4 id="4-deflayer">
        
        
          4. deflayer <a href="#4-deflayer" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h4>
    

<p>This block is used to translate the previously declared <code class="language-plaintext highlighter-rouge">defsrc</code> block into your desired output. As such, it must follow the same structure i.e. layout and number of buttons.</p>

<p>An important thing to note is that if you want to use the aliases you’ve defined, you must prepend them with a <code class="language-plaintext highlighter-rouge">@</code>.</p>

<p>Continuing with the example we’ve been working with, what you would need to write into the <code class="language-plaintext highlighter-rouge">deflayer</code> is the following:</p>

<figure class="highlight">
  <pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="nf">deflayer</span><span class="w"> </span><span class="n">homerowmods</span><span class="w">
    </span><span class="o">@</span><span class="n">met_a</span><span class="w">   </span><span class="o">@</span><span class="n">alt_s</span><span class="w">   </span><span class="o">@</span><span class="n">ctl_d</span><span class="w">   </span><span class="o">@</span><span class="n">sft_f</span><span class="w">   </span><span class="n">g</span><span class="w">   </span><span class="n">h</span><span class="w">   </span><span class="o">@</span><span class="n">sft_j</span><span class="w">   </span><span class="o">@</span><span class="n">ctl_k</span><span class="w">   </span><span class="o">@</span><span class="n">alt_l</span><span class="w">   </span><span class="o">@</span><span class="n">met_</span><span class="c1">;</span><span class="w">
</span><span class="p">)</span></code></pre>
</figure>

<p>Here we’ve named the layer <code class="language-plaintext highlighter-rouge">homerowmods</code> but you can name the layer whatever you want.</p>
      <h4 id="final-result">
        
        
          Final result <a href="#final-result" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h4>
    

<p>If we fuse together the four different blocks that we have developed in the last subsections and assume that we’re on Windows, this would be the result:</p>

<figure class="highlight">
  <pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="nf">defcfg</span><span class="w">
  </span><span class="c1">;; For Windows</span><span class="w">
  </span><span class="n">input</span><span class="w">  </span><span class="p">(</span><span class="nf">low-level-hook</span><span class="p">)</span><span class="w">
  </span><span class="n">output</span><span class="w"> </span><span class="p">(</span><span class="nf">send-event-sink</span><span class="p">)</span><span class="w">

  </span><span class="c1">;; This option tells KMonad to let non-configured keys act normal</span><span class="w">
  </span><span class="n">fallthrough</span><span class="w"> </span><span class="n">true</span><span class="w">
</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nf">defsrc</span><span class="w">
    </span><span class="n">a</span><span class="w">    </span><span class="n">s</span><span class="w">    </span><span class="n">d</span><span class="w">    </span><span class="n">f</span><span class="w">    </span><span class="n">g</span><span class="w">    </span><span class="n">h</span><span class="w">    </span><span class="n">j</span><span class="w">    </span><span class="n">k</span><span class="w">    </span><span class="n">l</span><span class="w">    </span><span class="c1">;</span><span class="w">
</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nf">defalias</span><span class="w">
    </span><span class="n">met_a</span><span class="w"> </span><span class="p">(</span><span class="nf">tap-hold-next-release</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">lmet</span><span class="p">)</span><span class="w">
    </span><span class="n">alt_s</span><span class="w"> </span><span class="p">(</span><span class="nf">tap-hold-next-release</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="n">lalt</span><span class="p">)</span><span class="w">
    </span><span class="n">ctl_d</span><span class="w"> </span><span class="p">(</span><span class="nf">tap-hold-next-release</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="n">lctl</span><span class="p">)</span><span class="w">
    </span><span class="n">sft_f</span><span class="w"> </span><span class="p">(</span><span class="nf">tap-hold-next-release</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="n">lsft</span><span class="p">)</span><span class="w">

    </span><span class="n">sft_j</span><span class="w"> </span><span class="p">(</span><span class="nf">tap-hold-next-release</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">rsft</span><span class="p">)</span><span class="w">
    </span><span class="n">ctl_k</span><span class="w"> </span><span class="p">(</span><span class="nf">tap-hold-next-release</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">rctl</span><span class="p">)</span><span class="w">
    </span><span class="n">alt_l</span><span class="w"> </span><span class="p">(</span><span class="nf">tap-hold-next-release</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="n">lalt</span><span class="p">)</span><span class="w">
    </span><span class="n">met_</span><span class="c1">; (tap-hold-next-release 200 ; rmet)</span><span class="w">
</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nf">deflayer</span><span class="w"> </span><span class="n">homerowmods</span><span class="w">
    </span><span class="o">@</span><span class="n">met_a</span><span class="w">   </span><span class="o">@</span><span class="n">alt_s</span><span class="w">   </span><span class="o">@</span><span class="n">ctl_d</span><span class="w">   </span><span class="o">@</span><span class="n">sft_f</span><span class="w">   </span><span class="n">g</span><span class="w">   </span><span class="n">h</span><span class="w">   </span><span class="o">@</span><span class="n">sft_j</span><span class="w">   </span><span class="o">@</span><span class="n">ctl_k</span><span class="w">   </span><span class="o">@</span><span class="n">alt_l</span><span class="w">   </span><span class="o">@</span><span class="n">met_</span><span class="c1">;</span><span class="w">
</span><span class="p">)</span></code></pre>
</figure>

<p>Once your configuration file is ready, open a terminal and type in the exact name of the binary you’ve downloaded alongside the name of your config file to <a href="https://github.com/david-janssen/kmonad/blob/master/doc/faq.md#how-do-i-start-kmonad">start KMonad</a>.</p>

<p>For a more detailed explanation on everything KMonad has to offer, click <a href="https://github.com/david-janssen/kmonad/#configuration">here</a>.</p>
      <h3 id="kmonad-home-row-mods-code-generator">
        
        
          Home row mods code generator <a href="#kmonad-home-row-mods-code-generator" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h3>
    

<p>For your convenience, below you can find a form that you can fill in with your options in order to generate mod-tap aliases and the home row.</p>

<details>
  <summary> Additional information</summary>

  <p>For best results, make sure to use US QWERTY on your OS since the generated code uses the default KMonad keycode labels which are based on US QWERTY.</p>

  <p>If your layout isn’t present in the list, select “Other” in the dropdown list and fill in all the ten characters of your home row. To accommodate layouts such as QWERTY and <a href="https://github.com/MadRabbit/halmak">Halmak</a>, a limited set of punctuation characters are accepted in the custom layout field. They are <code class="language-plaintext highlighter-rouge">-</code>, <code class="language-plaintext highlighter-rouge">.</code>, <code class="language-plaintext highlighter-rouge">,</code>, <code class="language-plaintext highlighter-rouge">/</code>, <code class="language-plaintext highlighter-rouge">\</code>, and <code class="language-plaintext highlighter-rouge">;</code>. If you wish to use <a href="#upperlower-row-mods">upper/lower row mods</a>, you can also select “Other” and fill in the text field with the upper/lower row of your keyboard layout.</p>

  <p>The order options use the notation described in the section on <a href="#home-row-mods-order">home row mods orders</a>. The leftmost modifier is the one on the pinky and the rightmost modifier is the one on the index finger (not the inner index column). If you wish to use another home row mods order, select “Other” in the dropdown list and specify your desired order in the same notation. <a href="#alternative-home-row-mods-layout">Alternative home row mods layouts</a> are not supported, but you’re free to use <code class="language-plaintext highlighter-rouge">_</code> to omit some modifiers if you want less than 2×4 home row mods.</p>

  <p>In case you’re curious why <code class="language-plaintext highlighter-rouge">LALT</code> is used in place of <code class="language-plaintext highlighter-rouge">RALT</code> in the generated code for the right-hand Alt mod-tap, click <a href="#use-left-and-right-modifiers-but-beware-of-altgr">here</a> to jump down to the section on modifier handedness and possible gotchas with the Right Alt mod.</p>
</details>

<form style="background: #131317;border: 25px solid #131317; border-radius: 25px;">
  <p>
Select your layout<br />
<select name="layouts" onchange="showTextField('KMonadLayout')">
<option value="ASDFGHJKL;" selected=""> QWERTY/AZERTY/QWERTZ</option>
<option value="AOEUIDHTNS"> Dvorak</option>
<option value="ARSTDHNEIO"> Colemak vanilla</option>
<option value="ARSTGMNEIO"> Colemak DH</option>
<option value="ASHTGYNEOI"> Workman</option>
<option value="RSTHDMNAIO"> RSTHD</option>
<option value="YIEA.DSTNB"> BEAKL15</option>
<option value="OTHER" id="otherKMonadLayout"> Other </option>
</select>
</p>
  <div id="customKMonadLayout" style="display:none">
    <p>Specify the ten characters of the row you want to apply mod-taps to.<br />Accepted characters: <code class="language-plaintext highlighter-rouge">A–Za–z0–9.,;/\'-</code><br />
<input type="text" maxlength="10" id="customKMonadLayoutInput" pattern="[A-Za-z0-9-.,;\/'\\]{10}" title="Lowercase is allowed too" /></p>
  </div>

  <p>
Enter your desired tapping term (in ms)<br />
<input type="number" name="KMonadTappingTerm" min="1" value="200" />
</p>

  <p>
Select your home row mods order<br />
<select name="homeRowModsOrders" onchange="showTextField('KMonadOrder')">
<option value="GASC"> GASC</option>
<option value="GACS" selected=""> GACS</option>
<option value="SCGA"> SCGA</option>
<option value="CAGS"> CAGS</option>
<option value="OTHER" id="otherKMonadOrder"> Other </option>
</select>
</p>
  <div id="customKMonadOrder" style="display:none">
    <p>Specify your desired <a href="#home-row-mods-order">home row mods order</a><br />Accepted characters: <code class="language-plaintext highlighter-rouge">GASC_</code><br />
<input type="text" id="customKMonadOrderInput" maxlength="4" pattern="[_GgAaSsCc]{4}" title="Lowercase is allowed too." /></p>
  </div>

  <p>
Select your desired alias style<br />
<select name="aliasStyle">
<option value="HOME"> HOME</option>
<option value="MOD" selected=""> MOD</option>
</select>
</p>

  <p style="margin-bottom: 0em;">
<input type="button" onclick="generateKMonadCode(form.elements)" name="submit" value="Generate" />
</p>

  <div id="KMonadGeneratorErrors" style="display: none;min-width: 100%;text-align: center;background: #f006; border-radius:15px; margin-top: 1em;"></div>

</form>

<div id="generatedKMonadAliases" style="display:none"></div>
<div id="generatedKMonadHomeRow" style="display:none"></div>
      <h1 id="tips-and-tricks">
        
        
          Tips &amp; Tricks <a href="#tips-and-tricks" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h1>
    

<!-- Tips -->
      <h2 id="quick-swift-taps">
        
        
          Quick swift taps <a href="#quick-swift-taps" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h2>
    

<p>The most important tip I can give is to get into the habit of typing with quick, swift taps. The goal is to reduce the time between press and release to the minimum. Don’t focus on pressing keys, but on <em>tapping</em> keys. Pressing and releasing should <em>feel</em> like one single action, in the same way you tap the WinKey when you want to open the start menu on Windows.</p>

<p>For some people, the transition to home row mods is little jarring because they got used to holding a key down for a little a less than the key repeat delay which is set by default to 500–1000ms on most operating systems.</p>

<p>Parallels can be made between the key repeat delay and the tapping term. In both cases, releasing the key before the delay expires will result in one single letter to be produced. In that case, it is tempting to say that a person who’s used to a key repeat delay of 500ms should crank up the default tapping term of 200ms up to 500ms. It can be seen as trading key auto-repeat for modifier activation. That will certainly help to avoid accidental mods. If the user never accidentally auto-repeats keys then he won’t accidentally activate a modifier. In theory, this all sounds good and dandy but in practice, you’ll realize that having to hold a key for ≥500ms is actually pretty long.</p>

<p>My point is that the quicker your taps are, the more you can afford to reduce the tapping term which has the consequence of letting you trigger keyboard shortcuts much more rapidly.</p>

<p>Before you get the wrong idea, I want to make it clear that I am <em>not</em> telling you to increase your WPM speed. By “swift” taps, I mean avoiding keeping keys pressed for needlessly long. Don’t linger your fingers on the keys. It’s not a matter of reducing the time it takes you to type the next character. You can take a 10s break before typing each character and achieve a dramatically low WPM but you can nonetheless tap an individual key briskly.</p>

<p>Though it is not out of the question that learning to tap swiftly may lead to faster WPM in the long run.</p>
      <h2 id="finding-the-sweet-spot">
        
        
          Finding the sweet spot <a href="#finding-the-sweet-spot" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h2>
    

<p>Prior to looking for tips to find the sweet spot for the tapping term, I urge you to make sure to disable “<a href="#hold-on-other-key-press">Hold on Other Key Press</a>” first. Too many people make the mistake of endlessly tweaking the tapping term in the hope that they’ll eventually find the golden number that will let them use home row mods with no accidents. You can increase or decrease the tapping term all you want but that won’t help with rolling letters if your mod-taps aren’t configured to ignore interruptions.</p>

<p>If they <em>are</em> configured to but you still get accidental alphas or modifiers occasionally, here’s what you can try.</p>

<p>First of all, when starting out with home row mods, a better baseline is a tapping term that’s too high than one that’s too low. So if you have a lot of accidental mod activations, crank up the tapping term to get into a zone where you rather have accidental alphas.</p>

<p>Once you’re there, the goal is to progressively lower the tapping term in order to get closer to your optimal setting.</p>

<p>A method you can use to gauge where you’re at is to simply try to type a text excerpt entirely in lowercase in the <a href="#tapping-term-test-area">text area found at the end of this tip</a>. It will alert you any time you activate a modifier. If you find that you get capital or missing letters all over the board, try to be more careful about the way you tap the keys (see <a href="#quick-swift-taps">quick swift taps</a>). If adapting your typing style does not help, then increase the tapping term. In case you find a particular mod-tap key to be particularly problematic, consider enabling tapping term per key and increase the tapping term for that key.</p>

<p>For <a href="https://docs.qmk.fm/#/tap_hold?id=tapping-term">per key settings</a>, it is recommended to define them relative to the global tapping term. Namely, prefer <code class="language-plaintext highlighter-rouge">return TAPPING_TERM ± offset</code> over <code class="language-plaintext highlighter-rouge">return SOME_ABSOLUTE_VALUE</code>. The reason being that, in the case of special per key terms, what matters isn’t so much the absolute value but its relation to the more widespread global setting. As you grow more comfortable with home row mods, you may find yourself able to lower the tapping term further and if you do, you’ll want to have the per-key settings move along at the risk of making them feel overly long (or short).</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">uint16_t</span> <span class="nf">get_tapping_term</span><span class="p">(</span><span class="kt">uint16_t</span> <span class="n">keycode</span><span class="p">,</span> <span class="n">keyrecord_t</span> <span class="o">*</span><span class="n">record</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="p">(</span><span class="n">keycode</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="n">LALT_T</span><span class="p">(</span><span class="n">KC_S</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">130</span><span class="p">;</span> <span class="c1">// Not recommended</span>
        <span class="k">case</span> <span class="n">SFT_T</span><span class="p">(</span><span class="n">KC_F</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">TAPPING_TERM</span> <span class="o">+</span> <span class="mi">50</span><span class="p">;</span> <span class="c1">// Recommended</span>
        <span class="nl">default:</span>
            <span class="k">return</span> <span class="n">TAPPING_TERM</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>That being said, it won’t take you long to get annoyed from having to edit <code class="language-plaintext highlighter-rouge">config.h</code>, recompile the firmware and flash it onto your board anytime you want to tweak the tapping term, even just slightly, during this exercise. For this exact reason, a fantastic person going by the nickname of “precondition” has created three new quantum keys that let you tweak the tapping term on the fly.</p>

<table>
  <thead>
    <tr>
      <th>Key</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">DT_PRNT</code></td>
      <td>“Dynamic Tapping Term Print”: Types the current tapping term, in milliseconds</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">DT_UP</code></td>
      <td>“Dynamic Tapping Term Up”: Increases the current tapping term by 5ms</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">DT_DOWN</code></td>
      <td>“Dynamic Tapping Term Down”: Decreases the current tapping term by 5ms</td>
    </tr>
  </tbody>
</table>

<p>In order to use them, enable the feature in <code class="language-plaintext highlighter-rouge">rules.mk</code> with <code class="language-plaintext highlighter-rouge">DYNAMIC_TAPPING_TERM_ENABLE = yes</code>.</p>

<p>Once you can easily type long strings of lowercase letters, the next step is to practice on text containing capital letters.</p>

<p>If you get accidental superfluous characters when trying to capitalize, decrease your tapping term (or consider using <a href="#permissive-hold">permissive hold</a>).</p>

<p>Rinse and repeat until you’re satisfied.</p>
      <h3 id="tapping-term-test-area">
        
        
          Tapping term test area <a href="#tapping-term-test-area" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h3>
    

<p>Write a short story all in lowercase with home row mods. In case you accidentally trigger any of the modifiers, the corresponding modifier keys under the text area will light up in red and a short beep will be emitted to alert you.</p>

<textarea id="tappingTermTestArea" rows="5" onkeydown="processModifierPress(event)" onkeyup="processModifierRelease(event)" onfocusout="clearModifiers(event)" placeholder="once upon a time..."></textarea>

<!-- Improve the responsiveness of the modifiers row -->
<div class="modifiersRow">
    <div class="leftModifiers" style="display: flex;">
        <div class="modifierKey" id="ShiftLeft"> L Shift </div>
        <div class="modifierKey" id="ControlLeft"> L Ctrl </div>
        <div class="modifierKey" id="OSLeft"> L GUI </div>
        <div class="modifierKey" id="AltLeft"> L Alt </div>
    </div>

    <div class="modifiersRowSeparator"></div>

    <div class="rightModifiers" style="display: flex;">
        <div class="modifierKey" id="AltRight"> R Alt </div>
        <div class="modifierKey" id="OSRight"> R GUI </div>
        <div class="modifierKey" id="ControlRight"> R Ctrl </div>
        <div class="modifierKey" id="ShiftRight"> R Shift </div>
    </div>

</div>

<p><br /></p>
      <h2 id="use-left-and-right-modifiers-but-beware-of-altgr">
        
        
          Use left and right modifiers but beware of AltGr! <a href="#use-left-and-right-modifiers-but-beware-of-altgr" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h2>
    

<p>Let’s talk about <code class="language-plaintext highlighter-rouge">RALT</code> (Right Alt, AltGr) first.
The reason why you need to watch out for <code class="language-plaintext highlighter-rouge">RALT</code> is that while most right versions of modifiers act exactly the same as their left counterpart, this is not necessarily the case for <kbd>⎇ Alt</kbd>. Everywhere else except in the US,<sup id="fnref:8" role="doc-noteref"><a href="#fn:8" class="footnote" rel="footnote">7</a></sup> the right Alt becomes <kbd>AltGr</kbd> which is used as a momentary layer switch to access additional symbols. Keep this in mind when composing your right hand home row mods or you might get a surprise!</p>

<p>If this odd case bothers you, you can either use American layout(s) which make(s) no distinction between left and right Alt or you can use the left version of modifiers for all the home row mods. Separating left and right modifiers, as done in the example shown at the beginning of “<a href="#using-home-row-mods-with-qmk">Using home row mods with QMK</a>” and in the output of the home row mods code generators, is not strictly necessary for a functioning setup but doing so offers some perks.</p>

<p>First of all, it allows to hop from one modifier to its counterpart fluidly. What do I mean? Let’s say you want to produce, using the home row mods setup illustrated below, capital “Q” which we’ll assume is situated on the left hand of your keyboard. To do that, imagine you first hold <code class="language-plaintext highlighter-rouge">MT(MOD_LSFT, KC_F)</code> to activate Shift but then you realize that this is the wrong Shift (proper touch typing technique advocates for the use of the opposite hand when Shifting letters).</p>

<figure>
    
    <img src="assets/images/home-row-mods/RealisticHRM-Dark-Miryoku.png" alt="KLE render of dark blue QWERTY home row keycaps with mod icons in the center and mod name on the side of the keycaps" />
    

    <figcaption><span>GACS/◆⎇⎈⇧ home row mods on US QWERTY</span></figcaption>

</figure>

<p>To remedy this, press and hold <code class="language-plaintext highlighter-rouge">MT(MOD_RSFT, KC_J)</code> without releasing your finger off <code class="language-plaintext highlighter-rouge">MT(MOD_LSFT, KC_F)</code> and then, while you’re keeping <code class="language-plaintext highlighter-rouge">MT(MOD_RSFT, KC_J)</code> pressed, release <code class="language-plaintext highlighter-rouge">MT(MOD_LSFT, KC_F)</code>.
At this stage, you’re now holding Shift with only the right hand and can now tap <kbd>Q</kbd> to produce “Q”.</p>

<p>If, instead, your <kbd>J</kbd> key was <code class="language-plaintext highlighter-rouge">MT(MOD_LSFT, KC_J)</code>, you wouldn’t be able to do that. If you hold both Shift mod-taps and then release the one on the left half of the keyboard, holding the Shift mod-tap on the right side loses all its effects when you lift up your left middle finger. It is not doing anything. So when you tap <kbd>Q</kbd> while holding the right-hand Shift mod-tap, you’ll get lowercase “q”.</p>

<!-- insert KLE gif -->

<p>The only way to properly hop modifiers when both of them are programmed to send the exact same modifier, is to fully release the wrong mod-tap you’ve first pressed before pressing and holding the correct one, on the opposite hand.</p>

<p>There is a catch though. If you realize early on that this is the incorrect hand to use the modifier with, you will instinctively fully release the incorrect mod-tap in order to hop to the correct one. If you release the incorrect mod before the tapping term, which is very likely to happen unless you’re slow at catching yourself using the wrong hand for the modifier, that will be considered as a tap by the firmware and will thus send the tap keycode, “f” in our case. Doing so thus puts you at risk of accidental alphas when hopping modifiers.</p>

<p>To recap, the problem with using the same version of Shift for both hands:</p>
<ul>
  <li>Hold left hand home row Shift</li>
  <li>Hold right hand home row Shift</li>
  <li>Let go of left hand home row Shift</li>
  <li>While holding right hand home row Shift, press random letters with left hand</li>
  <li>The letters are not capitalized</li>
</ul>

<p>Secondly, distinguishing between home row mods of the left hand from home row mods of the right hand can be useful if you want to detect typing rolls. For more info, refer to the “<a href="#rolled-modifiers-cancellation">rolled modifiers cancellation</a>” trick.</p>
      <h2 id="putting-home-row-mods-on-almost-all-layers">
        
        
          Putting home row mods on (almost) all layers <a href="#putting-home-row-mods-on-almost-all-layers" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h2>
    

<p>If you only have home row mods on the base layer and you desire to apply a modifier to a key that’s situated in a layer, you’ll need to follow a strict timing and sequence of key presses for it to work. First, you’ll need to keep the home row key pressed for longer than your tapping term, then activate the layer you want to access without letting go of the home row mod and finally tap the key on the layer.</p>

<p>For more freedom, you can consider turning the home row on your other layers into mod-taps too. Better yet, see if you can afford to use the normal modifier keycodes on the home row instead. For example, many people have a navigation layer momentarily activated with a thumb key with pure modifier keys on the home row of the left hand and arrow keys on the right hand.</p>

<figure>
    
    <a href="assets/images/home-row-mods/Squiggle-sample-nav-layer.png">
    
    <img src="assets/images/home-row-mods/Squiggle-sample-nav-layer.png" alt="Squiggle with dark MBK caps with legends of the navigation layer" />
    
    </a>
    

    <figcaption><span>Example of a thumb-activated navigation layer with modifiers on the left-hand home row.<br />(The dotted keys indicate <code>KC_TRNS</code>)</span></figcaption>

</figure>

<p>When porting home row mods through your layers, take a minute to consider whether you really need home row mods on a certain layer. While it may be useful on a navigation or accents layer, it’s probably not very useful to include in a symbol layer since you’re unlikely to feel the need to do <kbd>Ctrl</kbd>+<kbd>!</kbd> or <kbd>Alt</kbd>+<kbd>"</kbd>.</p>
      <h2 id="disabling-home-row-mods-when-gaming">
        
        
          Disabling home row mods when gaming <a href="#disabling-home-row-mods-when-gaming" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h2>
    

<p>Home row mods and video games do not get along very well. It’s easy to see why. If <kbd>A</kbd>, <kbd>S</kbd>, <kbd>D</kbd> all act as modifiers when held down, you don’t risk going very far in the video game if you use <kbd>W</kbd><kbd>A</kbd><kbd>S</kbd><kbd>D</kbd> to move around. There have also been reports of the tapping function of a mod-tap not working reliably with certain video games.</p>

<p>The common solution to this problem is to create a gaming layer where you get rid of the home row mods.</p>
      <h2 id="shift-thumb-keys">
        
        
          Shift thumb keys <a href="#shift-thumb-keys" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h2>
    

<p><em>Not to be confused with the <a href="https://en.wikipedia.org/wiki/Thumb-shift_keyboard">thumb-shift Japanese input method</a>.</em></p>

<p>The Shift modifier is unlike all the others. Unless it’s paired with another modifier, it feels more like a layer switch than a key we can use to execute keyboard shortcuts. In bicameral scripts, it is used to capitalize letters and even unicameral scripts which do not distinguish case such as Arabic and Korean also use Shift to access additional graphemes.</p>

<div class="img-to-hover">
  <figure>
    <p><img src="assets/images/home-row-mods/BaseArabic.jpeg" alt="Base Arabic legends on a 60% keyboard" />
<img src="assets/images/home-row-mods/ShiftArabic.jpeg" class="img-shift" alt="Shifted Arabic legends on a 60% keyboard" /></p>
    <figcaption>
      <p>A variant of the Arabic keyboard.</p>
    </figcaption>
  </figure>
</div>

<p>Being such a critical and frequently used “layer” switch key, the Shift modifier is a great candidate for a thumb key.</p>

<p>Using a thumb key bypasses some of the constraints of home row Shift. If you own an ergonomic keyboard with a good thumb cluster, you have the possibility of placing a dedicated Shift key in a comfortable position, thus freeing yourself of the inherent timing constraints of mod-taps.</p>

<p>If you dedicate a thumb key to only send Shift and nothing else, you can even do away with chording all together by using a <a href="https://docs.qmk.fm/#/one_shot_keys">One-Shot</a> Shift key. As an added benefit, One-Shot Shift also allows you to eradicate accidental overcapitalization which happens when you hold Shift for a tad too long and send two uppercase characters instead of one when capitalizing words like, for example, in the sentence: “THe Grand DUchess Anna PEtrovna oF russia”.</p>

<p>An important concern with a normal or One-Shot Shift thumb key, however, is that it requires dedicating a key to this use alone which isn’t ideal when you aim for low finger travel and/or you’re not a fan of losing the thumb home position. For those feeling concerned about this, a Shift mod-tap thumb key can still prove useful nonetheless.</p>

<p>Mod-tapping the resting home thumb key(s) gives you the same advantage as mod-tapping the home row keys: elimination of the finger/hand movement needed to activate a modifier.</p>

<p>In any case, you must be willing to trade off a layer thumb key for a Shift thumb key; a dealbreaker for some.</p>

<p>As for the question on whether to keep the Shift mod-tap on the home row, it is up to you. Some may argue that the redundant home row Shift keys are useless while others use the Shift thumb keys exclusively for uppercase letters and use the home row Shift for the rest (shifted symbols, shifted Vim commands, keyboard shortcuts, chorded combinations with other modifiers, …).</p>
      <h2 id="use-caps-lock">
        
        
          Use Caps Lock <a href="#use-caps-lock" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h2>
    

<p><kbd>Caps Lock</kbd> is the stuff of many jokes and is considered by many to be useless, or even annoying. However for home row mods users who do not have Shift on their pinkies or their thumbs, it is a good solution for typing strings of capital letters. It avoids the awkward back-and-forth swapping of hands that happens when keeping Shift activated by using the opposite hand in order to free the other one from holding Shift to let it type a certain key.</p>

<p>Nonetheless, it still doesn’t deserve to be placed in the outer home row position.</p>

<p>If you want to go one step further, you can check out <a href="https://docs.qmk.fm/#/feature_caps_word">Caps Word</a> which works like a caps lock key that automatically toggles off once you’re done typing a word.
If you ever used caps lock to write a MACRO_IDENTIFIER in insert mode and forgot to toggle it off before entering back into normal mode in Vim and caused subsequent havoc before realizing your mistake, this is the perfect solution.</p>
      <h2 id="mechanical-switch-type">
        
        
          Mechanical switch type <a href="#mechanical-switch-type" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h2>
    

<p>Light tactile switches or clicky switches help with making short, light, snappy taps, and the feedback masks the lag of tap on release.</p>

<!-- Tricks -->
      <h2 id="using-non-basic-keycodes-in-mod-taps">
        
        
          Using non-basic keycodes in mod-taps <a href="#using-non-basic-keycodes-in-mod-taps" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h2>
    

<p>As opposed to KMonad, QMK does not allow for non-basic keycodes such as shifted keycodes (e.g. <code class="language-plaintext highlighter-rouge">KC_DLR</code>) and custom keycodes in mod-taps. If you try to pass in a non-basic keycode to the <code class="language-plaintext highlighter-rouge">MT()</code> function, unexpected things will happen because it will try to cast down the special keycode you passed in as a <code class="language-plaintext highlighter-rouge">uint8_t</code> data type.</p>

<p>In the case of a keyboard shortcut such as <code class="language-plaintext highlighter-rouge">KC_DLR</code> (which is merely an alias for <code class="language-plaintext highlighter-rouge">S(KC_4)</code>) or <code class="language-plaintext highlighter-rouge">ALGR(KC_COMMA)</code> or a shortcut involving more than one modifier such as <code class="language-plaintext highlighter-rouge">S(A(KC_2))</code>, all the applied modifiers to the tapped key will be stripped, and you’ll end up with only the unmodified basic keycode upon tapping the mod-tap. Although the holding function will still function exactly as expected. Thus, tapping <code class="language-plaintext highlighter-rouge">MT(MOD_LALT, KC_DLR)</code> will produce “4” on an US QWERTY keyboard and tapping <code class="language-plaintext highlighter-rouge">RCTL_T(S(A(KC_2)))</code> will produce “2” instead of “€” on US MacOS.</p>

<p>As for custom keycodes/macros, the output you’ll get will be dependant on the position of the custom keycode in your <code class="language-plaintext highlighter-rouge">custom_keycodes</code> enum and the amount of enabled quantum keycodes. The value of <code class="language-plaintext highlighter-rouge">SAFE_RANGE</code> is determined by the <code class="language-plaintext highlighter-rouge">quantum_keycodes</code> enum found in <code class="language-plaintext highlighter-rouge">qmk_firmware/quantum/quantum_keycodes.h</code>.</p>

<p>The very first custom keycode/macro in the enum is always assigned to <code class="language-plaintext highlighter-rouge">SAFE_RANGE</code>. Trying to use it in a mod-tap may produce <code class="language-plaintext highlighter-rouge">KC_ENTER</code> on tap. The next custom keycode in your enum (which will be assigned the value of <code class="language-plaintext highlighter-rouge">SAFE_RANGE+1</code>), against all odds, will <em>not</em> produce your expected macro when tapped in the context of a mod-tap but instead may emit the <code class="language-plaintext highlighter-rouge">KC_ESCAPE</code> keycode. And on it goes down the <a href="https://github.com/qmk/qmk_firmware/blob/ccb15c2d2923903a925d253eec66fd4356ceea85/tmk_core/common/keycode.h#L77">list of keycodes</a>, <em>generally</em> starting from the punctuation block. In this situation given as an example,<code class="language-plaintext highlighter-rouge">SAFE_RANGE+5</code> will produce <code class="language-plaintext highlighter-rouge">KC_EQUAL</code>, et cetera, when casted down to <code class="language-plaintext highlighter-rouge">uint8_t</code>.</p>

<p>Naturally, this can be a little disappointing. Especially if you want to <a href="#putting-home-row-mods-on-almost-all-layers">put home row mods on something like a symbol layer</a>.</p>

<p>Fear not! As there exists a trick which doesn’t force you to give up on the idea of using non-basic keycodes in mod-taps or to recode the entire mod-tap logic from scratch.</p>

<p>The idea behind the trick is to create a mod-tap key as usual and let QMK naturally deal with the holding function of the mod-tap as well as the decision between tap and hold but override the normal tapping behavior with our custom code in <code class="language-plaintext highlighter-rouge">process_record_user</code>.</p>

<p>When creating the mod-tap key with QMK’s built-in <code class="language-plaintext highlighter-rouge">MT()</code> function, you need to choose a dummy keycode for the tapping function that you know you’ll never actually use. This can be any of the function keys in the range 13–24 or a keycode that’s unsupported by all major operating systems like <code class="language-plaintext highlighter-rouge">KC_LANG6</code> or <code class="language-plaintext highlighter-rouge">KC_CRSEL</code>, or a dummy custom keycode created solely for this purpose. Regardless of what you choose, the OS will never receive the dummy keycode from your keyboard.</p>

<p>Let’s say we want to create a mod-tap key that acts as a Command/GUI modifier on hold and sends “#” (<kbd>Shift</kbd>+<kbd>3</kbd>) on tap. Any of the following is a good candidate:</p>

<figure class="highlight">
  <pre><code class="language-js" data-lang="js"><span class="err">#</span><span class="nx">define</span> <span class="nx">GUI_HASH</span> <span class="nx">MT</span><span class="p">(</span><span class="nx">MOD_LGUI</span><span class="p">,</span> <span class="nx">KC_F23</span><span class="p">)</span>
<span class="err">#</span><span class="nx">define</span> <span class="nx">CMD_HASH</span> <span class="nx">LGUI_T</span><span class="p">(</span><span class="nx">KC_LANG6</span><span class="p">)</span>

<span class="kr">enum</span> <span class="nx">custom_keycodes</span> <span class="p">{</span>
    <span class="nx">MT_POUND</span> <span class="o">=</span> <span class="nx">SAFE_RANGE</span>
<span class="p">};</span>
<span class="err">#</span><span class="nx">define</span> <span class="nx">HOME_HASH</span> <span class="nx">CMD_T</span><span class="p">(</span><span class="nx">MT_POUND</span><span class="p">)</span></code></pre>
</figure>

<p>Note: <code class="language-plaintext highlighter-rouge">MT(MOD_LGUI, kc)</code>, <code class="language-plaintext highlighter-rouge">LGUI_T(kc)</code>, and <code class="language-plaintext highlighter-rouge">CMD_T(kc)</code> are all equivalent</p>

<p>To make things easier to read, I strongly recommend using aliases. How are you supposed to know, from cursory glance, that <code class="language-plaintext highlighter-rouge">MT(MOD_LGUI, KC_F23)</code> will actually output “#” on tap and not send <kbd>F23</kbd>?</p>

<p>It can be tempting to use <code class="language-plaintext highlighter-rouge">LGUI_T(KC_HASH)</code> and it would still work but you need to realise that <code class="language-plaintext highlighter-rouge">LGUI_T(KC_HASH)</code> is the same as <code class="language-plaintext highlighter-rouge">LGUI_T(S(KC_3))</code> which, as explained earlier, gets converted to <code class="language-plaintext highlighter-rouge">LGUI_T(KC_3)</code>. This means that if you override the default tap behavior for <code class="language-plaintext highlighter-rouge">LGUI_T(KC_HASH)</code>, you will also override the behavior of <code class="language-plaintext highlighter-rouge">LGUI_T(KC_3)</code>. For this reason, it’s not recommended to do that.</p>

<p>The next step is to write a case for our newly created special mod-tap in the switch statement of the <code class="language-plaintext highlighter-rouge">process_record_user</code> function.</p>

<figure class="highlight">
  <pre><code class="language-c" data-lang="c"><span class="k">case</span> <span class="n">HOME_HASH</span><span class="p">:</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">record</span><span class="o">-&gt;</span><span class="n">event</span><span class="p">.</span><span class="n">pressed</span> <span class="o">&amp;&amp;</span> <span class="n">record</span><span class="o">-&gt;</span><span class="n">tap</span><span class="p">.</span><span class="n">count</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// send advanced keycode, etc.</span>
      <span class="c1">// the 16 bit version of the `tap_code` function is used here</span>
      <span class="c1">// because KC_HASH is a non-basic keycode.</span>
      <span class="n">tap_code16</span><span class="p">(</span><span class="n">KC_HASH</span><span class="p">);</span>
      <span class="c1">// do not continue with default tap action</span>
      <span class="c1">// if the MT was pressed or released, but not held</span>
      <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
  <span class="p">}</span>
<span class="k">break</span><span class="p">;</span></code></pre>
</figure>

<p>Finally, all that’s left to do is to place <code class="language-plaintext highlighter-rouge">HOME_HASH</code> wherever you want it to be in your layout and flash the new keymap onto your board.</p>

<p>Note: since writing the guide, the ideas of this section have found their way into the official QMK docs: “<a href="https://docs.qmk.fm/#/mod_tap?id=intercepting-mod-taps">Intercepting Mod-Taps</a>”.</p>
      <h2 id="combined-mod-taps-on-the-lower-row">
        
        
          Combined mod-taps on the lower row <a href="#combined-mod-taps-on-the-lower-row" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h2>
    

<p>This tip is particularly useful if you use KMonad on a keyboard without N-key roll over which resort to blocking in order to prevent ghosting — QMK-compatible keyboards do not suffer from ghosting issues as they’re mostly mechanical keyboards that use diodes. If that previous sentence sounded like technical gobbledegook to you, read through <a href="https://deskthority.net/wiki/Rollover,_blocking_and_ghosting">this Deskthority wiki page</a> to learn more about what all those terms mean.</p>

<p>By concentrating all modifiers in the middle of the alpha block, you are much more likely to run into dropped key presses as a result of ghost-blocking. Namely, you may notice that you can’t do <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>T</kbd> using home row mods. In such a case, a dedicated <kbd>Ctrl</kbd>+<kbd>Shift</kbd> mod-tap can prove very useful. Given the fact that this problem is most likely to happen a row staggered keyboard, you can intuitively place the combined mod-taps in between the home row mods on the lower row.</p>

<p>As illustrated here on this 60% ANSI keyboard sporting the <a href="#gacs">GACS/◆⎇⎈⇧</a> home row mods order.</p>

<p><img src="assets/images/home-row-mods/combined-lower-row-mod-taps-row-staggered.png" alt="Black 60% ANSI keyboard with side-printed QWERTY legends sporting GACS home row mods and G+A A+C C+S lower row mods" /></p>
      <h2 id="rolled-modifiers-cancellation">
        
        
          Rolled modifiers cancellation <a href="#rolled-modifiers-cancellation" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h2>
    
<p>Let’s look into the situation where one uses home row mods on a keyboard layout that favors rolls. The most famous rolls-focused keyboard layout is Colemak, so we’ll use the following home row mods setup as a case study.</p>

<figure>
    
    <img src="assets/images/home-row-mods/RealisticHRM-Dark-SideLegends-Colemak-GASC.png" alt="KLE render of dark blue Colemak home row keycaps with mod icons in the center and mod name on the side of the keycaps" />
    

    <figcaption><span>GASC/◆⎇⇧⎈ home row mods on Colemak</span></figcaption>

</figure>

<p>Let’s imagine that this Colemak user is aiming for the lowest tapping term on his Shift mod-taps in order to capitalize letters in a faster and more responsive way. He’s gone so low on the tapping term of his Shift mod-taps, that rolling over <kbd>S</kbd> and <kbd>T</kbd> produces “T” instead of the expected “st”. Same story for rolls over <kbd>E</kbd> and <kbd>N</kbd>.
If he’s otherwise happy with the tapping term of his Shift mod-taps, what can he do to help him type “The first event” rapidly and accurately without ending up with “The firT evNt” instead?</p>

<p>It is tempting to say that he should use <code class="language-plaintext highlighter-rouge">TAPPING_TERM_PER_KEY</code> and increase the tapping term of his Shift mod-taps in order to reduce the accidental mod activations but aside from the “st” and “en” bigrams, this user is satisfied with the speed of activation of Shift for every other combination of letters. Increasing the tapping term will probably help with rolling “st” and “en” but it will also ever so slightly affect every other bigram involving “s” or “e”.
This hypothetical user can either adapt himself to it or if he really wants to, he can adapt the firmware <em>to himself</em>.</p>

<p>To do so, he can use this nifty piece of code in <code class="language-plaintext highlighter-rouge">process_record_user</code> which takes advantage of the distinction between left Shift and right Shift:</p>

<figure class="highlight">
  <pre><code class="language-c" data-lang="c"><span class="n">bool</span> <span class="nf">process_record_user</span><span class="p">(</span><span class="kt">uint16_t</span> <span class="n">keycode</span><span class="p">,</span> <span class="n">keyrecord_t</span> <span class="o">*</span><span class="n">record</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="p">(</span><span class="n">keycode</span><span class="p">)</span> <span class="p">{</span>

    <span class="k">case</span> <span class="n">RCTL_T</span><span class="p">(</span><span class="n">KC_N</span><span class="p">):</span>
        <span class="cm">/*
        This piece of code nullifies the effect of Right Shift when tapping
        the RCTL_T(KC_N) key.
        This helps rolling over RSFT_T(KC_E) and RCTL_T(KC_N)
        to obtain the intended "en" instead of "N".
        Consequently, capital N can only be obtained by tapping RCTL_T(KC_N)
        and holding LSFT_T(KC_S) (which is the left Shift mod tap).
        */</span>

        <span class="cm">/*
        Detect the tap.
        We're only interested in overriding the tap behavior
        in a certain cicumstance. The hold behavior can stay the same.
        */</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">record</span><span class="o">-&gt;</span><span class="n">event</span><span class="p">.</span><span class="n">pressed</span> <span class="o">&amp;&amp;</span> <span class="n">record</span><span class="o">-&gt;</span><span class="n">tap</span><span class="p">.</span><span class="n">count</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Detect right Shift</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">get_mods</span><span class="p">()</span> <span class="o">&amp;</span> <span class="n">MOD_BIT</span><span class="p">(</span><span class="n">KC_RSHIFT</span><span class="p">))</span> <span class="p">{</span>
                <span class="c1">// temporarily disable right Shift</span>
                <span class="c1">// so that we can send KC_E and KC_N</span>
                <span class="c1">// without Shift on.</span>
                <span class="n">unregister_mods</span><span class="p">(</span><span class="n">MOD_BIT</span><span class="p">(</span><span class="n">KC_RSHIFT</span><span class="p">));</span>
                <span class="n">tap_code</span><span class="p">(</span><span class="n">KC_E</span><span class="p">);</span>
                <span class="n">tap_code</span><span class="p">(</span><span class="n">KC_N</span><span class="p">);</span>
                <span class="c1">// restore the mod state</span>
                <span class="n">add_mods</span><span class="p">(</span><span class="n">MOD_BIT</span><span class="p">(</span><span class="n">KC_RSHIFT</span><span class="p">));</span>
                <span class="c1">// to prevent QMK from processing RCTL_T(KC_N) as usual in our special case</span>
                <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
         <span class="cm">/*else process RCTL_T(KC_N) as usual.*/</span>
        <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>

    <span class="k">case</span> <span class="n">LCTL_T</span><span class="p">(</span><span class="n">KC_T</span><span class="p">):</span>
        <span class="cm">/*
        This piece of code nullifies the effect of Left Shift when
        tapping the LCTL_T(KC_T) key.
        This helps rolling over LSFT_T(KC_S) and LCTL_T(KC_T)
        to obtain the intended "st" instead of "T".
        Consequently, capital T can only be obtained by tapping LCTL_T(KC_T)
        and holding RSFT_T(KC_E) (which is the right Shift mod tap).
        */</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">record</span><span class="o">-&gt;</span><span class="n">event</span><span class="p">.</span><span class="n">pressed</span> <span class="o">&amp;&amp;</span> <span class="n">record</span><span class="o">-&gt;</span><span class="n">tap</span><span class="p">.</span><span class="n">count</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">get_mods</span><span class="p">()</span> <span class="o">&amp;</span> <span class="n">MOD_BIT</span><span class="p">(</span><span class="n">KC_LSHIFT</span><span class="p">))</span> <span class="p">{</span>
                <span class="n">unregister_mods</span><span class="p">(</span><span class="n">MOD_BIT</span><span class="p">(</span><span class="n">KC_LSHIFT</span><span class="p">));</span>
                <span class="n">tap_code</span><span class="p">(</span><span class="n">KC_S</span><span class="p">);</span>
                <span class="n">tap_code</span><span class="p">(</span><span class="n">KC_T</span><span class="p">);</span>
                <span class="n">add_mods</span><span class="p">(</span><span class="n">MOD_BIT</span><span class="p">(</span><span class="n">KC_LSHIFT</span><span class="p">));</span>
                <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
         <span class="cm">/*else process LCTL_T(KC_T) as usual.*/</span>
        <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">};</span></code></pre>
</figure>

<p>If you have a different setup because you neither use Colemak nor use the GASC/◆⎇⇧⎈ home row mods order, but are interested in using this trick, here are the parameters you need to change:</p>

<p>Let <code class="language-plaintext highlighter-rouge">LSFT_T(l_s_letter)</code> equal your left hand home row Shift mod-tap,
    <code class="language-plaintext highlighter-rouge">LMOD_T(l_letter)</code> equal your left hand home row non-Shift mod-tap (it can be any mod, that will depend on what you’ve put near your home row Shift mod-tap),
and vice versa for the right hand;
     <code class="language-plaintext highlighter-rouge">RSFT_T(r_s_letter)</code>,
     <code class="language-plaintext highlighter-rouge">RMOD_T(r_letter)</code>.</p>

<figure class="highlight">
  <pre><code class="language-c" data-lang="c">    <span class="k">case</span> <span class="nf">RMOD_T</span><span class="p">(</span><span class="n">r_letter</span><span class="p">)</span><span class="o">:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">record</span><span class="o">-&gt;</span><span class="n">event</span><span class="p">.</span><span class="n">pressed</span> <span class="o">&amp;&amp;</span> <span class="n">record</span><span class="o">-&gt;</span><span class="n">tap</span><span class="p">.</span><span class="n">count</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">get_mods</span><span class="p">()</span> <span class="o">&amp;</span> <span class="n">MOD_BIT</span><span class="p">(</span><span class="n">KC_RSHIFT</span><span class="p">))</span> <span class="p">{</span>
                <span class="n">unregister_mods</span><span class="p">(</span><span class="n">MOD_BIT</span><span class="p">(</span><span class="n">KC_RSHIFT</span><span class="p">));</span>
                <span class="n">tap_code</span><span class="p">(</span><span class="n">r_s_letter</span><span class="p">);</span>
                <span class="n">tap_code</span><span class="p">(</span><span class="n">r_letter</span><span class="p">);</span>
                <span class="n">add_mods</span><span class="p">(</span><span class="n">MOD_BIT</span><span class="p">(</span><span class="n">KC_RSHIFT</span><span class="p">));</span>
                <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>

    <span class="k">case</span> <span class="nf">LMOD_T</span><span class="p">(</span><span class="n">l_letter</span><span class="p">)</span><span class="o">:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">record</span><span class="o">-&gt;</span><span class="n">event</span><span class="p">.</span><span class="n">pressed</span> <span class="o">&amp;&amp;</span> <span class="n">record</span><span class="o">-&gt;</span><span class="n">tap</span><span class="p">.</span><span class="n">count</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">get_mods</span><span class="p">()</span> <span class="o">&amp;</span> <span class="n">MOD_BIT</span><span class="p">(</span><span class="n">KC_LSHIFT</span><span class="p">))</span> <span class="p">{</span>
                <span class="n">unregister_mods</span><span class="p">(</span><span class="n">MOD_BIT</span><span class="p">(</span><span class="n">KC_LSHIFT</span><span class="p">));</span>
                <span class="n">tap_code</span><span class="p">(</span><span class="n">l_s_letter</span><span class="p">);</span>
                <span class="n">tap_code</span><span class="p">(</span><span class="n">l_letter</span><span class="p">);</span>
                <span class="n">add_mods</span><span class="p">(</span><span class="n">MOD_BIT</span><span class="p">(</span><span class="n">KC_LSHIFT</span><span class="p">));</span>
                <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nb">true</span><span class="p">;</span></code></pre>
</figure>

<p>This trick is about cancelling the effect of home row Shift mod-tap on a nearby home row mod-tap but nothing prevents you from cancelling the effect of home row non-Shift mod-tap on another key that isn’t even a mod-tap at all. It can be generalized.</p>

<p>Sticking with the Colemak example, imagine you have repetitive accidental mod activations when doing <code class="language-plaintext highlighter-rouge">RGUI_T(KC_O)</code>+<code class="language-plaintext highlighter-rouge">KC_U</code> when rolling keys for the bigram “ou”. You can add a case in your <code class="language-plaintext highlighter-rouge">process_record_user</code> for <code class="language-plaintext highlighter-rouge">KC_U</code> where you check the mod state for <code class="language-plaintext highlighter-rouge">RGUI</code> and override the default behavior by sending “ou” instead of <kbd>GUI</kbd>+<kbd>U</kbd>.</p>

<p>That being said, I want to clarify that this trick is most definitely not necessary for an enjoyable home row mods experience.
I’ve mentioned it here just to give another example why you might want to distinguish between right hand and left hand home row mods. You don’t need to go this far.</p>

<p>However, if you desire to go even further, <a href="https://www.reddit.com/user/Manna_Harbour">Manna Harbour</a>, the creator of the <a href="https://github.com/manna-harbour/qmk_firmware/tree/miryoku/users/manna-harbour_miryoku">Miryoku</a> layout, is working on a new configuration option named “Bilateral Combinations”. This option forces you to combine mods on one hand with taps on the opposite hand. It can reduce accidental mods.  When it is enabled, the last mod-tap hold will be converted to a mod-tap tap if another key on the same hand is tapped.</p>

<p>For more information on this developing new option, consult these links:</p>

<ul>
  <li><a href="https://github.com/manna-harbour/qmk_firmware/blob/bilateral-combinations/docs/tap_hold.md#bilateral-combinations">Bilateral combinations docs</a></li>
  <li><a href="https://github.com/qmk/qmk_firmware/compare/master...manna-harbour:bilateral-combinations">Bilateral combinations code</a></li>
</ul>

<p>For yet another implementation of this trick, one can also consult Steven Hum’s “<a href="http://thedarnedestthing.com/rolling%20qmk%20modifiers">rolling qmk modifiers</a>”.</p>
      <h2 id="using-mod-taps-in-combos">
        
        
          Using mod-taps in combos<!-- [WIP] --> <a href="#using-mod-taps-in-combos" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h2>
    

<p>When defining combos that involve dual-role keys, make sure to use the full name of the dual-role key, not just its tap keycode. This is a common error.</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">const</span> <span class="kt">uint16_t</span> <span class="n">PROGMEM</span> <span class="n">A_S_COMBO</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="n">KC_A</span><span class="p">,</span> <span class="n">KC_S</span><span class="p">,</span> <span class="n">COMBO_END</span><span class="p">};</span> <span class="c1">// ❎ Incorrect</span>
<span class="k">const</span> <span class="kt">uint16_t</span> <span class="n">PROGMEM</span> <span class="n">A_S_COMBO</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="n">LGUI_T</span><span class="p">(</span><span class="n">KC_A</span><span class="p">),</span> <span class="n">LALT_T</span><span class="p">(</span><span class="n">KC_S</span><span class="p">),</span> <span class="n">COMBO_END</span><span class="p">};</span> <span class="c1">// ✅ Correct</span>
</code></pre></div></div>
      <h1 id="alternatives">
        
        
          Alternatives <a href="#alternatives" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h1>
    

<p>What if none of the above work out for you? You understand what all the tap-hold configuration settings mean, you played around with them, you’ve read through all the tips and tricks and yet you still can’t get used to home row mods despite the fact that you like the concept… What else can you try?</p>
      <h2 id="alternative-home-row-mods-layout">
        
        
          Alternative home row mods layout <a href="#alternative-home-row-mods-layout" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h2>
    

<p>The classic home row mods layout places all of the mod-taps on the resting keys of a touch typer, the “home keys”, as illustrated in purple below.</p>

<p><img src="assets/images/home-row-mods/PlanckAlternative-ClassicHRM.jpeg" alt="Dark Ortholinear Planck keyboard with the ASDFJKL; keys highlighted in purple" /></p>

<p>This the optimal placement for a touch typer because that’s where they’ve learned to rest their fingers by default. As such, the finger travel to reach for any of the four modifiers is zero.</p>

<p>However, if we’re willing to stretch the definition of “home row” to not only include the resting keys but encompass the entire middle row of the keyboard, we can start to imagine alternative home row mods layouts.</p>

<p>Firstly, one could shift all the mod-taps outwards.</p>

<p><img src="assets/images/home-row-mods/PlanckAlternative-OuterStraight.jpeg" alt="Dark Ortholinear Planck keyboard with the CapsLockASDKL;' keys highlighted in purple" /></p>

<p>This is vaguely reminiscent of the <a href="https://www.itmedia.co.jp/news/articles/1912/10/news176.html">HHKB-style <kbd>Ctrl</kbd> key</a> wherein the key that would usually be <kbd>Caps Lock</kbd> on standard keyboards is mapped to <kbd>Ctrl</kbd> instead.</p>

<p>Be that as it may, two flaws are apparent with this layout:</p>

<ol>
  <li>The pinkies have double duty when it comes to modifier activation:
<kbd>A</kbd>,<kbd>;</kbd> <em>and</em> <kbd>Caps Lock</kbd>,<kbd>'</kbd></li>
  <li>In case you need to combine the two outer home row mods, the whole hand needs to shift 1u outwards from home position to let the ring finger hold down <kbd>A</kbd> or <kbd>;</kbd></li>
</ol>

<p>Therefore, it may be better to go the other way and translate the home row mods <em>inwards</em>.</p>

<p><img src="assets/images/home-row-mods/PlanckAlternative-InnerStraight.jpeg" alt="Dark Ortholinear Planck keyboard with the SDFGHJKL keys highlighted in purple" /></p>

<p>Although, the second flaw is essentially still present, the first flaw is mitigated by offloading the weak pinky fingers entirely and letting the strong index fingers deal with the extra mod-taps.</p>

<p>Now, you may think to yourself that relieving the pinkies is good and all but what if you don’t like lateral movement?</p>

<p>The fellow pinky haters behind the “Balanced Effortless Keyboard Layout” (<a href="https://deskthority.net/wiki/BEAKL">BEAKL</a>) introduced the concept of the “<a href="https://keyboard-design.com/easy-block-words.html">home block</a>” wherein the lower row index keys (<kbd>V</kbd> and <kbd>M</kbd> in the illustration) have a much more favourable score in the key effort ratings than the inner index keys of the home/middle row (<kbd>G</kbd> and <kbd>H</kbd>) because the index finger is a short finger that’s more comfortable to flex than to extend.  The same concept is at play in <a href="https://workmanlayout.org/#the-problem-with-colemak">Workman</a> and <a href="https://colemakmods.github.io/mod-dh/#colemak-problems">Colemak-DH</a>.</p>

<p>This means we can use home <em>block</em> mods.</p>

<p><img src="assets/images/home-row-mods/PlanckAlternative-DHStyle.jpeg" alt="Dark Ortholinear Planck keyboard with the SDFVMJKL keys highlighted in purple" /></p>

<p>The pinky remains unused for modifiers in this modification and pressing the fourth mod-tap with the index fingers is more comfortable but aligning modifiers vertically can be problematic.</p>

<p>Unless you have a steno-friendly keyboard<sup id="fnref:9" role="doc-noteref"><a href="#fn:9" class="footnote" rel="footnote">8</a></sup> on which vertical combos are easy to do, you’ll struggle to combine one-handedly the index modifiers.</p>

<p>Finally, for a change, let’s talk about an alternative home row mods layout that does not suffer from a mod-tap combination problem.</p>

<p>The main reason behind the position of the mod-taps in the classic home row mods layout is that those keys are the ones you’re supposed to rest on in idle state. Yet, if you use QWERTY or any of its national derivatives on a keyboard that’s not columnar staggered, you may find yourself actually resting on those keys instead:</p>

<p><img src="assets/images/home-row-mods/PlanckAlternative-FauxColStagger.jpeg" alt="Dark Ortholinear Planck keyboard with the AWEFJIO; keys highlighted in purple" /></p>

<p>The ring and middle fingers are longer than the short pinkies and index fingers so why should you force them to be in the same horizontal line? Besides, “e”, “i”, and “o” are more common than either of “s”, “d”, “k”, or “l”.</p>

<p>Though, at this point, we’re fringing on upper row mods…</p>
      <h2 id="upperlower-row-mods">
        
        
          Upper/Lower row mods <a href="#upperlower-row-mods" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h2>
    

<p>A simple modification you can do is to translate the home row mods up or down. They remain very easy to access, and depending on the alpha layout used, accidental misfires are less likely to happen as a virtue of rarer n-grams occupying the row and thus reducing the amount of typing rolls that involve mod-tap keys.</p>

<p>For instance, translating the home row mods down is a good way to prevent accidental misfires caused by typing adjacent keys. You’re unlikely to come across a word containing “xcv”, “qkj” or “,.vbh”. Generally speaking, the lower row of keys is populated with uncommon letters and symbols. That observation does not only apply to alternative optimized layouts such Dvorak or Turkish F but also to QWERTY!</p>

<p>Naturally, this trick is helpful for reducing the occurences of misfires only if you translate the mod-taps to a row that contains less frequent keys than the home row. Translating mod-taps up on QWERTY would thus be counter-productive in this regard.</p>

<figure>
  <p><img src="https://www.7day.nl/ergowerken/blog/strijdtoetsenborden/dvorakvsqwerty.jpg" alt="Row frequency stats of QWERTY and Dvorak" /></p>
  <figcaption>
    <p>Comparison of the usage frequency of the three main rows on QWERTY and Dvorak, based on an English corpus of text.
Characteristically, QWERTY has a higher usage of the upper row than of the home row.</p>
  </figcaption>
</figure>
      <h2 id="home-row-mod-combos">
        
        
          Home row mod-combos <a href="#home-row-mod-combos" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h2>
    

<p>It’s all too easy to hold down a single key for a tad too long than desired and activate a potentially destructive action that has to be fixed afterwards. What if we require more than one single key to be pressed down? Modifiers would be activated only if a specific combination of adjacent (or not) keys was held down simultaneously. The idea behind being that it’s harder to accidentally hold down two or more keys simultaneously.</p>

<p>While there are only maybe about 4!=24 possible <a href="#home-row-mods-order">home row mods orders</a> if we restrain ourselves to the middle row and mirror the order on both hands, the number of possibilities explode if we start to consider home row mod-combos.</p>

<p><kbd>S</kbd>+<kbd>D</kbd> for left Alt, <kbd>J</kbd>+<kbd>K</kbd> for right GUI, <kbd>F</kbd>+<kbd>J</kbd> for Control, <kbd>J</kbd>+<kbd>K</kbd>+<kbd>L</kbd> for Control+Shift, …</p>

<p>However, most of the possible combinations aren’t really fit for the job. You’ll want to mirror the combo-mods on both hands for the same reason home row mod-taps are mirrored and you’ll want to be able to chord all four modifiers single-handedly.</p>

<p>You’ll run into issues if you want to paste something from your clipboard with <kbd>Ctrl</kbd>+<kbd>V</kbd> but both of your index fingers are occupied holding down <kbd>F</kbd> and <kbd>J</kbd> in order to activate Ctrl. A similar predicament happens if you want to open the task manager with <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Del</kbd> but your setup is such that, while you can activate Ctrl and Alt on the left hand with <kbd>D</kbd>+<kbd>F</kbd> and <kbd>S</kbd>+<kbd>F</kbd> respectively, you can’t hold down <kbd>S</kbd>+<kbd>D</kbd>+<kbd>F</kbd> for Ctrl+Alt, because that’s already used for the more common Ctrl+Shift because <kbd>S</kbd>+<kbd>D</kbd> is Shift.</p>

<p><img src="assets/images/home-row-mods/CtrlAltDel-bad-combos.png" alt="QWERTY home row with a Fn key in place of Caps Lock with a badly designed home row combo-mod setup" /></p>

<p>Consequently, you end up having to trigger Ctrl on the left hand and Alt on the right hand. Now imagine that you have put <kbd>Del</kbd> on a layer, on the right index home row key. Since your right index is too busy activating Alt in tandem with the right ring finger, there is literally no way for you to open the task manager to kill that unresponsive app. Even if you swap hands and use the left for Alt and the right for Ctrl, the problem persists. All you can do now is to resort to using the mouse and reconsider your keymap design.</p>

<p>This shows that combining home row combo-mods is a more challenging design problem than it may seem at first glance.</p>
      <h3 id="sticky-combos">
        
        
          Sticky Combos <a href="#sticky-combos" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h3>
    

<p>A solution to this combination problem is to use sticky combos. Instead of momentarily activating modifiers by holding down two or more keys, you tap the keys that constitute a combo, all within combo term, and the modifier gets applied to whatever basic keycode you type next.</p>

<p>The sticky/one-shot modifier gets consumed only if the next keycode you type isn’t a layer switch or a modifier itself. This means you can combine an arbitrary amount of modifiers and layer switches sequentially.</p>

<p>If we go back over our <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Del</kbd> example, you can chord your combo for Ctrl, then chord your combo for Alt, with the help of sticky combos, and finally, comfortably activate the Fn layer to access <kbd>Del</kbd>.</p>

<p><img src="assets/images/home-row-mods/CtrlAltDel-sticky-combos.webp" alt="QWERTY home row with a Fn key in place of Caps Lock executing Ctrl+Alt+Del with sticky combos" /></p>

<p>Besides, this alternative presents the great benefit of having access to all modifiers on the home row without requiring to hold down keys for a prolonged amount of time. Given the fact that they’re combos, you don’t need to pay attention to the specific order in which you press the keys that compose the chord and the stickiness of the modifiers provided by the One-Shot functionality of QMK lets you sequentially combine modifiers and basic keycodes, one after another.</p>
      <h3 id="combo-misfires">
        
        
          Combo misfires <a href="#combo-misfires" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h3>
    

<p>The biggest drawback with all the aforementioned points is that home row mod-combos are even more prone to misfires than home row mod-taps are. All that’s needed for a combo to fire is to register a press event for all the combo keys, in any order, within the combo term.</p>

<p>As a matter of fact, one should not be fooled by the idea that you’re less likely to press down multiple keys simultaneously than to hold a single key a tad too long. You can’t fine-tune when and how a combo activates like you can with mod-taps via tap hold configuration settings such as <code class="language-plaintext highlighter-rouge">PERMISSIVE_HOLD</code> — Although <abbr title="Pull Request">PR</abbr> <a href="https://github.com/qmk/qmk_firmware/pull/8591">#8591</a> adds half a dozen new combo configuration settings that will be of interest for anyone looking to use home row mod-combos. Combos’ indifference to key press order also prevents you from employing advanced tricks such as <a href="#rolled-modifiers-cancellation">rolled modifiers cancellation</a> to help with accidental mods.</p>

<p>If you want to type two keys that compose a combo, you <em>must</em> wait out the end of the combo term after pressing the first key before pressing the next one. In case you haven’t defined a combo term in <code class="language-plaintext highlighter-rouge">config.h</code>, it falls back to the value of the global tapping term which will generally float around 200ms for most users. Naturally, the first and only thing you can do is to reduce the combo term to a saner value; at least under 100ms.</p>

<p>Even if you do decrease the combo term down to 70, 50 or even sub-30 milliseconds, home row mod-combos are only really viable on QWERTY. To give a striking example, let’s look at <a href="https://goo.gl/PL39c2">THE-1</a>, an alpha layout heavily based on typing rolls or “splats” as the author calls them.</p>

<figure>
  <p><a href="https://goo.gl/PL39c2">
        <img src="assets/images/home-row-mods/THE-1.png" alt="THE-1 keyboard layout on a 5x3 ortholinear keyboard based on the TextBlade" />
</a></p>
  <figcaption>
    <p>THE-1 Keyboard Layout</p>
  </figcaption>
</figure>

<p>It would be quite the challenge to use home row mod-combos on such a layout. You would either need to tap each home row key separately on its own, which kills the whole point of this layout optimizing for splats, or decrease the combo term to such a low value that it’s hard to reliably trigger the modifiers when you need them.</p>
      <h2 id="chording-with-thumb-keys">
        
        
          Chording with thumb keys <a href="#chording-with-thumb-keys" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h2>
    

<p>The idea is to choose a thumb key — no need for an ergonomic keyboard, the space bar would also fit the bill — with which you will chord each home key to produce a modifier.</p>

<p>There are two types of implementation possible: first with a layer switch, and second with combos.</p>
      <h3 id="layers">
        
        
          Layers <a href="#layers" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h3>
    

<p>The arguably simpler and more flexible method is to use the designated thumb key as a layer key that activates a layer where the home row is composed of pure modifier keys. It can be a momentary switch, a layer-tap, a toggle, a layer tap-toggle, a one-shot layer key… Whatever you pick, the usage will boil down to this:</p>

<ol>
  <li>Press layer thumb key</li>
  <li>Activate the modifiers you need by pressing the appropriate home row keys</li>
  <li>Deactivate the layer with home row mods (keep holding down keys pressed in step 2)</li>
  <li>Tap the basic keycode onto which you wish to apply the modifier(s)</li>
  <li>Release all modifiers
<!-- Animation of the above steps --></li>
</ol>

<p>If you don’t like holding down keys, you can afford to use one-shot mods instead since the modifiers are on a layer. This approach has been popularized by <a href="https://github.com/callum-oakley/qmk_firmware/tree/master/users/callum">Callum Oakley’s userspace</a>. To make the most of this alternative approach, don’t use layer-tap keys. Only “pure” layer switching keys like <code class="language-plaintext highlighter-rouge">MO(layer)</code> remove the involvement of the tapping term.</p>
      <h3 id="combos">
        
        
          Combos <a href="#combos" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h3>
    

<p>This alternative also involves combos like in <a href="#home-row-mod-combos">home row mod-combos</a> but this one is much closer to the way classic home row mods work.</p>

<p>For one, the way the mods are laid out (<a href="#home-row-mods-order">order</a>, <a href="#alternative-home-row-mods-layout">layout</a>) is essentially the same as in classic home row mods. The only big difference is that the thumb gets involved to tell when a home row key should act like a modifier and when it should act like a normal letter/number/punctuation key.</p>

<p>The usage of this implementation is less convoluted than that of the layers implementation. If you want a modifier, simply press the appropriate home row key and the designated thumb key together within combo term. Since chording with thumb keys is what informs the firmware of your desire to initiate a keyboard shortcut, the hold time is irrelevant. As soon as the firmware detects a combo, the modifier(s) get activated.</p>

<p>Ideally, the thumb key used in chords shouldn’t be a key that’s often followed or preceded by a home row key such as space. All in the spirit of reducing accidental misfires when typing normally.</p>

<p>One nifty thing about this method is that you don’t need to keep holding down all the combo keys. You can press all the keys that compose the combo to trigger it and then only keep a single combo key down to maintain the modifier active, thus freeing your other fingers.</p>

<p>Overlapping combos used to be unsupported so all you needed to define is a combo for each of the 8 modifiers; chording multiple home row mods would have automatically called all the required combos. Whereas with the new combo improvements, you will need to specify a combo for</p>

<ol>
  <li><kbd>Ctrl</kbd></li>
  <li><kbd>Alt</kbd></li>
  <li><kbd>Shift</kbd></li>
  <li><kbd>GUI</kbd></li>
  <li><kbd>Ctrl</kbd>+<kbd>Alt</kbd></li>
  <li><kbd>Ctrl</kbd>+<kbd>Shift</kbd></li>
  <li><kbd>Ctrl</kbd>+<kbd>GUI</kbd></li>
  <li><kbd>Alt</kbd>+<kbd>Shift</kbd></li>
  <li><kbd>Alt</kbd>+<kbd>GUI</kbd></li>
  <li><kbd>Shift</kbd>+<kbd>GUI</kbd></li>
  <li><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Shift</kbd></li>
  <li><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>GUI</kbd></li>
  <li><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>GUI</kbd></li>
  <li><kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>GUI</kbd></li>
  <li><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>GUI</kbd></li>
</ol>

<p>Idem for the other hand. So we’re looking at 30 combos total if we assume only one-handed combinations of modifiers.
However, if we drop that constraint and wish to be very exhaustive and include the possibility to do something as insane as
<kbd>LCtrl</kbd>+<kbd>LGUI</kbd>+<kbd>LAlt</kbd>+<kbd>RAlt</kbd>+<kbd>RCtrl</kbd>+<kbd>RShift</kbd>+<kbd>RGUI</kbd>,
we would need 255 combos.</p>

<!-- ## Home row layers and modifiers on the thumb keys -->
      <h2 id="tap-dances">
        
        
          Tap dances <a href="#tap-dances" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h2>
    

<p>Tap dances can offer a figurative layer of protection against unintended mod activations. Where in mod-taps, only a hold is required, you could code a tap dance in such a way that you need to double tap and then hold a key for it to register as a modifier.</p>
      <h1 id="summary">
        
        
          Summary <a href="#summary" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h1>
    
<p>In summary, home row mods are an unorthodox, innovative way to use modifiers ergonomically. With the right piece of software, it can be used on any type of keyboard, and is beneficial regardless of the physical layout.<sup id="fnref:10" role="doc-noteref"><a href="#fn:10" class="footnote" rel="footnote">9</a></sup> It will take a bit of practice and time to get used to typing with home row mods but the pay-off is worth it.</p>
      <h1 id="tldr-table">
        
        
          TL;DR Table <a href="#tldr-table" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h1>
    

<table>
  <thead>
    <tr>
      <th>Question</th>
      <th>Answer</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>What are home row mods?</td>
      <td>Mod-taps on the home row</td>
    </tr>
    <tr>
      <td>What are mod-taps?</td>
      <td>A dual-role key that sends a basic character (lettter, punctuation, number, …) when pressed and released on its own but acts as a modifier when held down</td>
    </tr>
    <tr>
      <td>Why use home row mods?</td>
      <td>It’s a more ergonomic and efficient way to use modifiers</td>
    </tr>
    <tr>
      <td>How to use home row mods?</td>
      <td>Either use a QMK keyboard or install KMonad</td>
    </tr>
    <tr>
      <td>How to lay out the modifiers on the home row?</td>
      <td>It does not matter. If you’re undecided, you can go for <a href="#gacs">GACS/◆⎇⎈⇧</a></td>
    </tr>
    <tr>
      <td>What tap hold configuration settings should I enable?</td>
      <td>On QMK version ≥0.21, keep it default. A low <code class="language-plaintext highlighter-rouge">QUICK_TAP_TERM</code> can also prove useful.</td>
    </tr>
    <tr>
      <td>How do I get started with home row mods on QMK or KMonad?</td>
      <td>Go to the generator for the program you wish to use (<a href="#qmk-home-row-mods-code-generator">QMK</a>) (<a href="#kmonad-home-row-mods-code-generator">KMonad</a>), select your options and click on the button “Generate”. Follow the instructions to figure out where to paste the generated output</td>
    </tr>
    <tr>
      <td>What’s the most important tip for using home row mods?</td>
      <td>Get into the habit of typing with quick, swift taps.</td>
    </tr>
  </tbody>
</table>

<details>
  <summary>Updates Log</summary>
  <p>31 Aug 2023:</p>
  <ul>
    <li><code class="language-plaintext highlighter-rouge">DUMMY_NEUTRALIZER_KEYCODE</code> is now merged into <code class="language-plaintext highlighter-rouge">qmk:main</code> so I copy-pasted the explanation from the docs. (I am the author of that feature and its documentation so I’m not plagiarizing anyone by copy-pasting :p)</li>
  </ul>

  <p>19 Jun 2023:</p>
  <ul>
    <li>Mentioned Caps Word in the section about Caps Lock</li>
    <li>Mentioned the section about intercepting mod-taps in the official docs</li>
  </ul>

  <p>18 Jun 2023:</p>
  <ul>
    <li>Updated explanations regarding the new default behavior of modtaps.</li>
    <li>Removed outdated mentions of <code class="language-plaintext highlighter-rouge">IGNORE_MOD_TAP_INTERRUPT</code></li>
    <li>Added section on <code class="language-plaintext highlighter-rouge">HOLD_ON_OTHER_KEY_PRESS</code>.</li>
    <li>Updated Tapping Force Hold section to talk about the new equivalent Quick Tap Term instead.</li>
    <li>Removed outdated information about <code class="language-plaintext highlighter-rouge">PERMISSIVE_HOLD</code>-like behavior automatically getting enabled if <code class="language-plaintext highlighter-rouge">TAPPING_TERM</code> ≥ 500ms.</li>
    <li>Updated supported keyboards count.</li>
  </ul>

  <p>03 Feb 2021:</p>
  <ul>
    <li>Mentioned Callum style home row mods in Alternatives&gt;Chording with thumb keys&gt;Layers</li>
  </ul>

  <p>13 Sep 2021:</p>
  <ul>
    <li>Updated KMonad links</li>
    <li>De-emphasized the importance of <code class="language-plaintext highlighter-rouge">PERMISSIVE_HOLD</code></li>
    <li>Added a footnote about the “meta” modifier</li>
    <li>Updated the count of supported QMK keyboards</li>
    <li>No need to manually check out PRs #9404 and #8591 as they’re now merged in <code class="language-plaintext highlighter-rouge">qmk:master</code></li>
  </ul>

  <p>27 Dec 2021:</p>
  <ul>
    <li>No need to manually check out PR #11036 (Dynamic Tapping Term) as it is now merged in <code class="language-plaintext highlighter-rouge">qmk:master</code>.</li>
  </ul>

  <p>6 Jan 2022:</p>
  <ul>
    <li>Added a <code class="language-plaintext highlighter-rouge">if (record-&gt;event.pressed)</code> check before each code block overriding the tap of a modtap. Code should no longer fire twice now.</li>
  </ul>

  <p>18 Mar 2023:</p>
  <ul>
    <li>Added a short note about the breaking change <code class="language-plaintext highlighter-rouge">TAPPING_FORCE_HOLD</code> → <code class="language-plaintext highlighter-rouge">QUICK_TAP_TERM</code> in QMK.</li>
  </ul>

  <p>6 Aug 2024:</p>
  <ul>
    <li>Replaced <code class="language-plaintext highlighter-rouge">DT_PRINT</code> typo by <code class="language-plaintext highlighter-rouge">DT_PRNT</code>.</li>
  </ul>
</details>
      <h5 class="no_toc" id="footnotes">
        
        
          Footnotes <a href="#footnotes" class="heading-anchor" title="Permalink to this section">¶</a>
        
        
      </h5>
    

<!-- TODO: Add label tags to forms -->
<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>“Meta” is an ambiguous modifier name. It used to be its own modifier but with the advent and domination of IBM PC-style keyboards, you won’t find a physical <kbd>Meta</kbd> key anymore but the term remained in some places even as we standardised to the 2×4 modifiers of the HID spec that we know today. Sometimes, that’s how some Linux apps call the Super/GUI modifier but in GNU Emacs, Meta actually refers to the Alt modifier by default, unless you remap it. Meanwhile, <code class="language-plaintext highlighter-rouge">xmodmap</code> and <code class="language-plaintext highlighter-rouge">xkb</code> map the level 2 of <code class="language-plaintext highlighter-rouge">&lt;LALT&gt;</code> to <code class="language-plaintext highlighter-rouge">Meta_L</code> thus meaning that Shift+Alt = Meta. The <a href="https://deskthority.net/download/file.php?id=47925">Symbolics 3600</a> keyboard features both a <kbd>Super</kbd> and a <kbd>Meta</kbd> key but no <kbd>Alt</kbd>. On the <a href="http://xahlee.info/kbd/iold51593/sail_keyboard_8cd7f.jpg">SAIL keyboard</a>, <kbd>Meta</kbd> lives alongside <kbd>Alt</kbd> with no <kbd>Super</kbd> in sight. All in all, I’m in favour of abandoning the use of this term. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:2" role="doc-endnote">
      <p>Caps Lock only capitalizes letters and keeps numbers and punctuations intact whereas Shift Lock acts exactly like the Shift keys and affects all the keys. <kbd>Caps Lock</kbd>+<kbd>-</kbd> = <code class="language-plaintext highlighter-rouge">-</code> ; <kbd>Shift Lock</kbd>+<kbd>-</kbd> = <code class="language-plaintext highlighter-rouge">_</code>. <a href="#fnref:2" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:3" role="doc-endnote">
      <p>I have to admit that I couldn’t find any hard numbers supporting this. I have yet to meet someone who disagrees with this ranking though. It’s a very reasonable guess. Every capital letter in this article involved Shift. Ctrl+ZXCV is ridiculously common and most program shortcuts are either Ctrl+Letter or Ctrl+Shift+Letter. What’s more likely to be debatable is GUI &lt; Alt. The reasoning is that, while you don’t find many programs using Alt for important keyboard shortcuts and rare are the people who use Alt to navigate through menus in graphical apps, it is much more frequently used than one might expect just because of Alt+Tab alone. As for GUI, only chorded keyboard shortcuts are considered here so if we ignore WinKey taps to open the Start Menu, we can easily imagine why GUI would end up at the bottom of the ranking. <a href="#fnref:3" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:6" role="doc-endnote">
      <p>“Technically there is only one static <code class="language-plaintext highlighter-rouge">tapping_key</code> variable which tracks the currently processed tap/hold decision. However, events in <code class="language-plaintext highlighter-rouge">waiting_buffer</code> retain their timestamps, so when the tap/hold decision finally resolves, some other event from <code class="language-plaintext highlighter-rouge">waiting_buffer</code> may become the new <code class="language-plaintext highlighter-rouge">tapping_key</code>, and its tapping term would be counted from the moment when that key has been originally pressed. With per-key tapping term it could be possible that the tapping term for the second key has already expired by the time the first key has been handled, however. So you probably can think that every key has a separate timer (tracked using event timestamps), with an additional restriction that if multiple tap/hold keys are held at the same time, the tapping term for any of those keys cannot expire until all keys pressed before it had been handled (either the tapping terms for them had expired, or the keys had been released).” — <a href="https://github.com/sigprof">sigprof</a>, in the QMK Discord server <a href="#fnref:6" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:4" role="doc-endnote">
      <p>Once again, the GUI modifier on Desktop Environments such as Windows or Gnome is an exception to this. And so is the Alt modifier, which can be used as a leader key to navigate the menus of graphical applications. <a href="#fnref:4" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:7" role="doc-endnote">
      <p>Before you go ahead and do that, do keep in mind that Shift is sometimes used by itself in applications. In many video games, Shift is used to crouch (though, that would be the least of your problems if you want to play video games with Auto Shift on…) and JetBrains IDEs have you double-tap either Shifts by themselves to open up the <a href="https://blog.jetbrains.com/idea/2020/05/when-the-shift-hits-the-fan-search-everywhere/">Search Everywhere</a> window. Make sure to also read the documentation section on <a href="https://docs.qmk.fm/#/feature_auto_shift?id=modifiers">modifiers and Auto Shift</a> first. <a href="#fnref:7" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:8" role="doc-endnote">
      <p>Americans seem to get a kick out of using their own standards that are different from everybody else’s. <a href="#fnref:8" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:9" role="doc-endnote">
      <p>For our purposes, “steno-friendly” doesn’t refer to whether a given keyboard supports N-key roll over or a steno protocol such as GeminiPR. It’s a quality of a keyboard that makes single-finger combos easier to chord. Factors that play positively in the “steno-friendliness” of a given keyboard could be flat keycaps, steno key tops, choc spacing, ortholinear or columnar stagger, light springs, … <a href="#fnref:9" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:10" role="doc-endnote">
      <p>Obviously, it has no benefits for a macro pad and home row mods are unfit for steno boards such as the Georgi. <a href="#fnref:10" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>


                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                <!-- /author  -->
            </footer>

            
                <section class="post-full-comments">
                    <h1 id="comments">
        
        
          Comments <a href="#comments" class="heading-anchor" title="Permalink to the comments section">¶</a>
        
        
      </h1>


                    <script src="https://giscus.app/client.js"
                            data-repo="precondition/precondition.github.io"
                            data-repo-id="MDEwOlJlcG9zaXRvcnkyODk0OTc2MTU="
                            data-category="Comments"
                            data-category-id="DIC_kwDOEUFiD84CQ-f6"
                            data-mapping="title"
                            data-strict="0"
                            data-reactions-enabled="1"
                            data-emit-metadata="0"
                            data-input-position="bottom"
                            data-theme="dark_dimmed"
                            data-lang="en"
                            data-loading="lazy"
                            crossorigin="anonymous"
                            async>
                    </script>
                    <noscript>
                        Enable Javascript to display comments powered by <a href="https://giscus.app/">giscus</a>.<br>
                        Alternatively, you can also read and write comments directly in <a href="https://github.com/precondition/precondition.github.io/discussions/categories/comments">GitHub Discussions</a>.
                    </noscript>
                </section>
            

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/images/blog-cover.jpg)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; precondition &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/keymap/">Keymap</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/qmk-heatmap">QMK Heatmap Generator</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/pressing-e-with-the-thumb">Pressing E with the thumb‽</a></li>
                                        
                                    
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/keymap/">
                                
                                    See all 2 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/qmk-heatmap">
                <div class="post-card-image" style="background-image: url(/assets/images/qmk-heatmap/tornadical-corne-unreal-heatmap.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/qmk-heatmap">
                <header class="post-card-header">
                    
                        
                            
                               <span class="post-card-tags">Keyboards</span>
                            
                        
                            
                               <span class="post-card-tags">Keymap</span>
                            
                        
                            
                                <span class="post-card-tags">Qmk</span>
                            
                        
                    
                    <h2 class="post-card-title">QMK Heatmap Generator</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p></p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/pressing-e-with-the-thumb">
                <div class="post-card-image" style="background-image: url(/assets/images/Sergi-s-righthand-Kyria-with-TRIA-layout.jpg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/pressing-e-with-the-thumb">
                <header class="post-card-header">
                    
                        
                            
                               <span class="post-card-tags">Keyboards</span>
                            
                        
                            
                                <span class="post-card-tags">Keymap</span>
                            
                        
                    
                    <h2 class="post-card-title">Pressing E with the thumb‽</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p></p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<!--{percent include floating-header.html percent}-->

<!-- /post -->


<!-- Load custom JS scripts -->

    <script type="text/javascript">
    basePunctuationNames = {
    ".":"DOT",
    ",":"COMMA",
    ";":"SCLN",
    "/":"SLSH",
    "'":"QUOTE",
    "-":"MIN",
    "\\":"BSLS"
}

fullModName = {
    "G":"GUI",
    "M":"MET", /* KMonad calls GUI "Meta" */
    "A":"ALT",
    "S":"SFT",
    "C":"CTL",
    "_": null
}

validHomeRow    = RegExp(/^[\w-\.,;\/\'\\]{10}$/);
validModsOrder  = RegExp(/^[_MGASC]{4}_$/);
validHandedness = RegExp(/^[LR]{3}$/);
validTappingTerm= RegExp(/^\d+$/);

function translate(table) {
    /* Return a copy of the string in which each character has been mapped through the given translation table. 
     * This is a custom extension of the JS native String type to mimic Python's `str.translate(table)` method.
     *
     * @table (dict) : Dictionary with string keys and string values containing the translation mapping. 
     */
    translatedString = "";
    toTranslate = this.split("");
    toTranslate.forEach(char => {
        translatedString += (char in table ? table[char] : char);
    });
    return translatedString;
}
String.prototype.translate = translate;

// TODO
// Consider actually using a js `class` over imitating one with a function.
function UserHomeRowMods(lettersLayout, modsOrder, handedness, aliasStyle, tappingTerm=1) {
    // Standardizing the input
    lettersLayout = lettersLayout.trim().toUpperCase();
    modsOrder     = modsOrder.trim().toUpperCase() + "_";
    handedness    = handedness.trim().toUpperCase();
    aliasStyle    = aliasStyle.trim().toUpperCase();

    // Input validation
    if (!validHomeRow.test(lettersLayout)) {
        throw "Incorrectly formatted letters layout";
    }

    if (!validModsOrder.test(modsOrder)) {
        throw "Incorrectly formatted mods order";
    }

    if (!validHandedness.test(handedness)) {
        throw "Incorrectly formatted handedness";
    }

    if (!validTappingTerm.test(tappingTerm)) {
        if (tappingTerm === "") {
            throw "Tapping term is incorrectly formated. Make sure that it's a positive integer with only digit characters in the field";
        } else if (tappingTerm.includes(".") || tappingTerm.includes(",")) {
            throw "Tapping term must be a positive <em>integer</em>. Decimal numbers are not permitted.";
        } else {
            throw "Tapping term is too low. Choose a value ≥1";
        }
    }

    // Assignment to object fields
    this.homeRowKeys = lettersLayout; // 10 characters long string
    this.handedness  = handedness;    // 3 characters long string
    this.aliasStyle  = aliasStyle;    // either "HOME" or "MOD"
    this.modsOrder   = [];
    for (i = 0; i < modsOrder.length; i++) {
       this.modsOrder.push(fullModName[modsOrder[i]]) 
    }
    this.tappingTerm = tappingTerm;

    this.getHandedness = function(index, mod, config) {
        /* Returns the appropriate modifier handedness for that modtap
         * 
         * @index (int) : index of the mod tap key on the home row ∈ [0;10]
         * @mod (str) : one-letter abbreviation of the modifier
         * @config (str) : three-letter string (see `validhandedness`) 
         *              - config[0] = handedness of left hand mods
         *              - config[1] = handedness of right hand alt
         *              - config[2] = handedness of right hand mods
         *              e.g. "LLR" = left and right hand modifiers without AltGr
         */
        isLeftHalfKey = index < 5
        if (isLeftHalfKey) {
            return config[0];
        }
        return mod == "ALT" ? config[1] : config[2];
    }

};

function editDivBlock(id, displayStyle="contents", html="") {
    if (html.length > 0) {
        document.getElementById(id).innerHTML = html;
    }
    document.getElementById(id).style.display = displayStyle;
}

function showTextField(name) {
    console.log(name);
    console.log(document.getElementById("other" + name));
    if (document.getElementById("other" + name).selected) {
        editDivBlock(id="custom" + name, displayStyle="block");
    }
    else {
        editDivBlock(id="custom" + name, displayStyle="none");
    }
}

function surroundInCodeBlock(code, language="c") {
    let codeBlock = code;
    if (typeof hljs !== "undefined") {
      codeBlock = hljs.highlight(code, {language}).value
    }
    return "<pre><code>" + codeBlock + "</code></pre>";
}

function buildUserChoices(formElements, program="QMK") {
    /*
     * Create an object representing user's choices 
     * See the UserHomeRowMods class.
     */

    if (formElements.homeRowModsOrders.value == "OTHER") { 
        chosenHomeRowModsOrder = formElements["custom" + program + "OrderInput"].value.toUpperCase();
    } else {
        chosenHomeRowModsOrder = formElements.homeRowModsOrders.value; 
    }

    if (formElements.layouts.value == "OTHER") {
        chosenLettersLayout = formElements["custom" + program + "LayoutInput"].value.toUpperCase();
    } else {
        chosenLettersLayout = formElements.layouts.value; 
    }

    if (program == "KMonad") {
        chosenHomeRowModsOrder = chosenHomeRowModsOrder.replace("G", "M");
    }

    else if (program == "QMK") {
        chosenHomeRowModsOrder = chosenHomeRowModsOrder.replace("M", "G");
    }

    try {
        // The `handedness` argument to `UserHomeRowMods` used to be
        // `formElements.handedness.value` but it got replaced by 
        // the constant "LLR" i.e. "Left & Right without AltGr" 
        // because there is little use to other available configuration 
        // settings (namely "Only left", and "Left & Right with AltGr") 
        // and only serve to confuse the user.
        //
        // TODO: Refactor and simplify the handedness code
        return new UserHomeRowMods(chosenLettersLayout, chosenHomeRowModsOrder, "LLR", formElements.aliasStyle.value, formElements[program + "TappingTerm"].value);
    } catch (e) {
        editDivBlock(id=program + "GeneratorErrors", displayStyle="block", html=e)
        if (program === "QMK") {
            editDivBlock("generated" + program + "TappingTerm", displayStyle="none")
        }
        editDivBlock("generated" + program + "Aliases", displayStyle="none")
        editDivBlock("generated" + program + "HomeRow", displayStyle="none")
        throw new Error("Correct input errors before continuing");
    }
}

function generateQMKCode(formElements) {
    user = buildUserChoices(formElements);
    editDivBlock("QMKGeneratorErrors", displayStyle="none")

    definedTappingTerm = "#define TAPPING_TERM " + user.tappingTerm;
    definedAliases = "// Left-hand home row mods\n";
    generatedHomeRow = "";
    for (i = 0; i < user.homeRowKeys.length; i++) {
        if (i == 5) {
            definedAliases += "\n// Right-hand home row mods\n";
            user.modsOrder.reverse();
        }
        letter = user.homeRowKeys[i];
        mod = user.modsOrder[i % 5];
        keyName = "_" + letter.translate(basePunctuationNames);

        if (mod) {
            if (user.aliasStyle == "HOME") {
                keyName = "HOME" + keyName
            } else if (user.aliasStyle == "MOD") {
                if (mod !== "SFT" || keyName !== "_T") {
                    keyName = mod + keyName
                } else { // Situation where the alias is `SFT_T` which conflicts with QMK macro of the same name
                    keyName = "SHFT_T"
                }
            }

            definedAliases += "" +
                "#define " +
                keyName +
                " " +
                user.getHandedness(i, mod, user.handedness) +
                mod +
                "_T(KC_" +
                letter.translate(basePunctuationNames) +
                ")\n";
        } else {
            keyName = "KC" + keyName;
        }
        generatedHomeRow += keyName + ", ";
    }

    tappingTermExplanation = '<hr>\n\n<p style="margin-bottom: 0em;">Paste this anywhere in your <code>config.h</code> file.</p>'
    editDivBlock(
        "generatedQMKTappingTerm",
        displayStyle="contents",
        tappingTermExplanation + surroundInCodeBlock(definedTappingTerm)
    );

    aliasesExplanation = '<p style="margin-bottom: 0em;">Paste this in <code>keymap.c</code>, above your layout.</p>'
    editDivBlock(
        "generatedQMKAliases",
        displayStyle="contents",
        aliasesExplanation + surroundInCodeBlock(definedAliases)
    );

    homeRowExplanation = '<p style="margin-bottom: 0em;">Replace the ten keys of your home row in the <code>LAYOUT</code> block of your <code>keymap.c</code> with this.</p>'
    editDivBlock(
        "generatedQMKHomeRow",
        displayStyle="contents",
        homeRowExplanation + surroundInCodeBlock(generatedHomeRow)
    );
}

function generateKMonadCode(formElements) {
    user = buildUserChoices(formElements, program="KMonad");
    editDivBlock("KMonadGeneratorErrors", displayStyle="none");

    tappingTerm = user.tappingTerm;

    definedAliases = "(defalias\n";
    generatedHomeRow = "";
    for (i = 0; i < user.homeRowKeys.length; i++) {
        if (i == 5) {
            definedAliases += "\n";
            user.modsOrder.reverse();
        }
        letter = user.homeRowKeys[i];
        mod = user.modsOrder[i % 5];
        keyName = "_" + letter;

        if (mod) {
            keyName = (user.aliasStyle == "HOME" ? "HOME" : mod) + keyName;

            definedAliases += "    " +
                keyName +
                " (tap-hold-next-release " +
                tappingTerm +
                " " +
                letter +
                " " +
                user.getHandedness(i, mod, user.handedness) +
                mod +
                ")\n";

            keyName = "@" + keyName;
        } else {
            keyName = letter;
        }

        generatedHomeRow += keyName + "   ";
    }
    definedAliases = definedAliases.toLowerCase() +  ")";
    generatedHomeRow = generatedHomeRow.toLowerCase();

    aliasesExplanation = '<hr>\n\n<p style="margin-bottom: 0em;">Paste this block after the <code>defcfg</code> and <code>defsrc</code> blocks in your <code>.kbd</code> KMonad configuration file.</p>'
    editDivBlock(
        "generatedKMonadAliases",
        displayStyle="contents",
        aliasesExplanation + surroundInCodeBlock(definedAliases)
    );
    homeRowExplanation = '<p style="margin-bottom: 0em;">Replace the ten keys of your home row in the <code>deflayer</code> block of your <code>.kbd</code> KMonad configuration file with this.</p>'
    editDivBlock(
        "generatedKMonadHomeRow",
        displayStyle="contents",
        homeRowExplanation + surroundInCodeBlock(generatedHomeRow)
    );
}

    </script>

    <script type="text/javascript">
    function isModifier(e) {
    let modifierKeyCodes = {
        16:"LR Shift", 
        17:"LR Control",
        18:"L Alt", 
        91:"LR GUI",
        225:"R Alt"
    };
    return e.keyCode in modifierKeyCodes;
};

function processModifierPress(e) {
    if (isModifier(e)) {
        document.getElementById(e.code).style.background = "#a81313";
        beep();
    }
};

function processModifierRelease(e) {
    if (isModifier(e)) {
        console.log("entered isModifier in processModifierRelease")
        document.getElementById(e.code).style.background = "#2f312e";
    }
};

function clearModifiers(e) {
    console.log("entered clearModifiers")
    modifierNames = ["Shift", "Control", "OS", "Alt"]
    for (i = 0; i < 8; i++) {
        let side = i < 4 ? "Left" : "Right";
        document.getElementById(modifierNames[i % 4] + side).style.background = "#2f312e";
    }
}


// WARNING: Contains a very long base64 data URI
function beep() {
    var snd = new  Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=");  
    snd.play();
}

    </script>


<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="/">precondition</a> &copy; 2025</section>
                <section class="poweredby">Published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    a custom theme based on
                    <a href="https://github.com/jekyller/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <a href="https://github.com/precondition" target="_blank" rel="noopener">GitHub</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    

    <!-- highlight.js -->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>-->
    <!--<script>$(document).ready(function() {-->
      <!--$('pre code').each(function(i, block) {-->
        <!--hljs.highlightBlock(block);-->
      <!--});-->
    <!--});</script>-->

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <!--<script-->
        <!--src="https://code.jquery.com/jquery-3.2.1.min.js"-->
        <!--integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="-->
        <!--crossorigin="anonymous">-->
    <!--</script>-->
    <!--<script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>-->
    <!--<script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>-->


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
